/*!CK:1072856326!*//*1447774564,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IwQfO"]); }

__d("FacebookAppIDs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FACEBOOK_FOR_EMERGING_MARKET_ANDROID:275254692598279,MOST_RECENT_FEED:608920319153834,SAVED_FOR_LATER:586254444758776,TRANSLATIONS:4329892722};},null,{});
__d("MItemConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SHORT_HEIGHT:43,TALL_HEIGHT:58};},null,{});
__d("MPageletTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHROME:"chrome",CONTENT:"content"};},null,{});
__d('DateStrings',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j,k,l,m,n,o,p,q={getWeekdayName:function(r){if(!n)n=[h._("Sunday"),h._("Monday"),h._("Tuesday"),h._("Wednesday"),h._("Thursday"),h._("Friday"),h._("Saturday")];return n[r];},getUppercaseWeekdayName:function(r){if(!p)p=[h._("SUNDAY"),h._("MONDAY"),h._("TUESDAY"),h._("WEDNESDAY"),h._("THURSDAY"),h._("FRIDAY"),h._("SATURDAY")];return p[r];},getWeekdayNameShort:function(r){if(!o)o=[h._("Sun"),h._("Mon"),h._("Tues"),h._("Wed"),h._("Thurs"),h._("Fri"),h._("Sat")];return o[r];},getMonthName:function(r){if(!i)i=[h._("January"),h._("February"),h._("March"),h._("April"),h._("May"),h._("June"),h._("July"),h._("August"),h._("September"),h._("October"),h._("November"),h._("December")];return i[r-1];},getUppercaseMonthName:function(r){if(!l)l=[h._("JANUARY"),h._("FEBRUARY"),h._("MARCH"),h._("APRIL"),h._("MAY"),h._("JUNE"),h._("JULY"),h._("AUGUST"),h._("SEPTEMBER"),h._("OCTOBER"),h._("NOVEMBER"),h._("DECEMBER")];return l[r-1];},getMonthNameShort:function(r){if(!j)j=[h._("Jan"),h._("Feb"),h._("Mar"),h._("Apr"),h._("May"),h._("Jun"),h._("Jul"),h._("Aug"),h._("Sept"),h._("Oct"),h._("Nov"),h._("Dec")];return j[r-1];},getUppercaseMonthNameShort:function(r){if(!k)k=[h._("JAN"),h._("FEB"),h._("MAR"),h._("APR"),h._("MAY"),h._("JUN"),h._("JUL"),h._("AUG"),h._("SEP"),h._("OCT"),h._("NOV"),h._("DEC")];return k[r-1];},getOrdinalSuffix:function(r){if(!m)m=['',h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[r];},getDayLabel:function(){return h._("Day:");},getMonthLabel:function(){return h._("Month:");},getYearLabel:function(){return h._("Year:");},getDayPlaceholder:function(){return h._("dd");},getMonthPlaceholder:function(){return h._("mm");},getYearPlaceholder:function(){return h._("yyyy");},get12HourClockSuffix:function(r){if(r<12)return h._("am");return h._("pm");},getUppercase12HourClockSuffix:function(r){if(r<12)return h._("AM");return h._("PM");}};f.exports=q;},null);
__d('padNumber',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.toString();if(k.length>=j)return k;return Array(j-k.length+1).join('0')+k;}f.exports=h;},null);
__d('formatDate',['DateStrings','DateFormatConfig','fbt','invariant','padNumber'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(p,q,r){r=r||{};if(!q||!p)return '';if(typeof p==='string')p=parseInt(p,10);if(typeof p==='number')p=new Date(p*1000);!(p instanceof Date)?k(0):undefined;!!isNaN(p.getTime())?k(0):undefined;!(p.getTime()<1e+15)?k(0):undefined;if(typeof q!=='string'){var s=n();for(var t in s){var u=s[t];if(u.start<=p.getTime()&&q[u.name]){q=q[u.name];break;}}}var v;if(r.skipPatternLocalization||!r.formatInternal&&o()||q.length===1){v=q;}else{!i.formats[q]?k(0):undefined;v=i.formats[q];}var w=r.utc?'getUTC':'get',x=p[w+'Date'](),y=p[w+'Day'](),z=p[w+'Month'](),aa=p[w+'FullYear'](),ba=p[w+'Hours'](),ca=p[w+'Minutes'](),da=p[w+'Seconds'](),ea=p[w+'Milliseconds'](),fa='';for(var ga=0;ga<v.length;ga++){var ha=v.charAt(ga);switch(ha){case '\\':ga++;fa+=v.charAt(ga);break;case 'd':fa+=l(x,2);break;case 'j':fa+=x;break;case 'S':fa+=h.getOrdinalSuffix(x);break;case 'D':fa+=h.getWeekdayNameShort(y);break;case 'l':fa+=h.getWeekdayName(y);break;case 'F':case 'f':fa+=h.getMonthName(z+1);break;case 'M':fa+=h.getMonthNameShort(z+1);break;case 'm':fa+=l(z+1,2);break;case 'n':fa+=z+1;break;case 'Y':fa+=aa;break;case 'y':fa+=(''+aa).slice(2);break;case 'a':fa+=h.get12HourClockSuffix(ba);break;case 'A':fa+=h.getUppercase12HourClockSuffix(ba);break;case 'g':fa+=ba===0||ba===12?12:ba%12;break;case 'G':fa+=ba;break;case 'h':if(ba===0||ba===12){fa+=12;}else fa+=l(ba%12,2);break;case 'H':fa+=l(ba,2);break;case 'i':fa+=l(ca,2);break;case 's':fa+=l(da,2);break;case 'X':fa+=l(ea,3);break;default:fa+=ha;}}return fa;}function n(){var p=new Date(),q=p.getTime(),r=p.getFullYear(),s=p.getDate()-(p.getDay()-i.weekStart+6)%7,t=new Date(r,p.getMonth()+1,0).getDate(),u=new Date(r,1,29).getMonth()===1?366:365,v=1000*60*60*24;return [{name:'today',start:p.setHours(0,0,0,0)},{name:'withinDay',start:q-v},{name:'thisWeek',start:new Date(p.getTime()).setDate(s)},{name:'withinWeek',start:q-v*7},{name:'thisMonth',start:p.setDate(1)},{name:'withinMonth',start:q-v*t},{name:'thisYear',start:p.setMonth(0)},{name:'withinYear',start:q-v*u},{name:'older',start:-Infinity}];}m.periodNames=['today','thisWeek','thisMonth','thisYear','withinDay','withinWeek','withinMonth','withinYear','older'];function o(){if(typeof window==='undefined'||!window||!window.location||!window.location.pathname)return false;var p=window.location.pathname,q='/intern';return p.substr(0,q.length)===q;}f.exports=m;},null);
__d('MMessagePayload',['ChannelEventType','CurrentUser','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=25,m=1000,n='g:ia';function o(p){this.$MMessagePayload1=p;}o.prototype.isPageMessage=function(){return this.$MMessagePayload1.type===h.PAGES_MESSAGE;};o.prototype.getThreadFBID=function(){return this.$MMessagePayload1.thread_fbid;};o.prototype.getHref=function(){return this.$MMessagePayload1.href;};o.prototype.getAuthorFBID=function(){return this.$MMessagePayload1.sender_fbid.toString();};o.prototype.getAuthorName=function(){return this.$MMessagePayload1.sender_name;};o.prototype.getThreadName=function(){return this.$MMessagePayload1.thread_name;};o.prototype.getThreadUnreadCount=function(){return this.$MMessagePayload1.thread_unread_count;};o.prototype.getSnippet=function(){var p=this.$MMessagePayload1.body;if(p)if(p.length>l){return j._("{shortened body}{dot dot dot (for truncation)}",[j.param('shortened body',p.substring(0,l)),j.param('dot dot dot (for truncation)','...')]);}else return p;return this.$MMessagePayload1.admin_snippet;};o.prototype.getMessage=function(){return this.$MMessagePayload1.body;};o.prototype.getTime=function(){return k(this.$MMessagePayload1.timestamp/m,n);};o.prototype.getTimestamp=function(){return this.$MMessagePayload1.timestamp.toString();};o.prototype.getUUID=function(){return this.$MMessagePayload1.mid;};o.prototype.getFolder=function(){return this.$MMessagePayload1.folder;};o.prototype.getMessageSource=function(){return this.$MMessagePayload1.mercury_source;};o.prototype.getParticipantIDs=function(){var p=this.$MMessagePayload1.participant_ids||[];return p.map(function(q){return q.toString();});};o.prototype.hasThreadImage=function(){return this.$MMessagePayload1.has_thread_image;};o.prototype.getAttachmentCount=function(){return this.$MMessagePayload1.attachments.length;};o.prototype.getAttachments=function(){return this.$MMessagePayload1.attachments;};o.prototype.isCanonicalThread=function(){return !!this.$MMessagePayload1.is_canonical;};o.prototype.getOtherUserFBID=function(){var p=this.$MMessagePayload1.participant_ids;if(!this.isCanonicalThread()){return null;}else if(p.length===1){return p[0].toString();}else{if(p[0].toString()===i.getID()){if(this.isPageMessage())return p[0].toString();return p[1].toString();}return p[0].toString();}};o.prototype.getThreadNameWithUnreadCount=function(){if(!this.getThreadUnreadCount())return this.getThreadName();return j._("{thread name} ({unread count})",[j.param('thread name',this.getThreadName()),j.param('unread count',this.getThreadUnreadCount())]);};f.exports=o;},null);
__d('CallbackManagerController',['ErrorUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$CallbackManagerController1=[];this.$CallbackManagerController2=[undefined];this.$CallbackManagerController3=j;}i.prototype.executeOrEnqueue=function(j,k,l){'use strict';l=l||{};var m=this.$CallbackManagerController4(k,j,l);if(m)return 0;this.$CallbackManagerController2.push({fn:k,request:j,options:l});var n=this.$CallbackManagerController2.length-1;this.$CallbackManagerController1.push(n);return n;};i.prototype.unsubscribe=function(j){'use strict';delete this.$CallbackManagerController2[j];};i.prototype.reset=function(){'use strict';this.$CallbackManagerController2=[];};i.prototype.getRequest=function(j){'use strict';return this.$CallbackManagerController2[j];};i.prototype.runPossibleCallbacks=function(){'use strict';var j=this.$CallbackManagerController1;this.$CallbackManagerController1=[];var k=[];j.forEach((function(l){var m=this.$CallbackManagerController2[l];if(!m)return;if(this.$CallbackManagerController3(m.request,m.options)){k.push(l);}else this.$CallbackManagerController1.push(l);}).bind(this));k.forEach((function(l){var m=this.$CallbackManagerController2[l];delete this.$CallbackManagerController2[l];this.$CallbackManagerController4(m.fn,m.request,m.options);}).bind(this));};i.prototype.$CallbackManagerController4=function(j,k,l){'use strict';var m=this.$CallbackManagerController3(k,l);if(m){var n={ids:k};h.applyWithGuard(j,n,m);}return !!m;};f.exports=i;},null);
__d('KeyedCallbackManager',['CallbackManagerController','ErrorUtils'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){'use strict';this.$KeyedCallbackManager1={};this.$KeyedCallbackManager2=new h(this.$KeyedCallbackManager3.bind(this));}j.prototype.executeOrEnqueue=function(k,l){'use strict';if(!(k instanceof Array)){var m=k,n=l;k=[k];l=function(o){n(o[m]);};}k=k.filter(function(o){var p=o!==null&&o!==undefined;if(!p)i.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(o)+' is invalid');});return p;});return this.$KeyedCallbackManager2.executeOrEnqueue(k,l);};j.prototype.unsubscribe=function(k){'use strict';this.$KeyedCallbackManager2.unsubscribe(k);};j.prototype.reset=function(){'use strict';this.$KeyedCallbackManager2.reset();this.$KeyedCallbackManager1={};};j.prototype.getUnavailableResources=function(k){'use strict';var l=this.$KeyedCallbackManager2.getRequest(k),m=[];if(l)m=l.request.filter((function(n){return !this.$KeyedCallbackManager1[n];}).bind(this));return m;};j.prototype.getUnavailableResourcesFromRequest=function(k){'use strict';var l=Array.isArray(k)?k:[k];return l.filter(function(m){if(m!==null&&m!==undefined)return !this.$KeyedCallbackManager1[m];},this);};j.prototype.addResourcesAndExecute=function(k){'use strict';Object.assign(this.$KeyedCallbackManager1,k);this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.setResource=function(k,l){'use strict';this.$KeyedCallbackManager1[k]=l;this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.getResource=function(k){'use strict';return this.$KeyedCallbackManager1[k];};j.prototype.getAllResources=function(){'use strict';return this.$KeyedCallbackManager1;};j.prototype.dumpResources=function(){'use strict';var k={};for(var l in this.$KeyedCallbackManager1){var m=this.$KeyedCallbackManager1[l];if(typeof m==='object')m=babelHelpers._extends({},m);k[l]=m;}return k;};j.prototype.$KeyedCallbackManager3=function(k){'use strict';var l={};for(var m=0;m<k.length;m++){var n=k[m],o=this.$KeyedCallbackManager1[n];if(typeof o=='undefined')return false;l[n]=o;}return [l];};f.exports=j;},null);
__d('MMessageServerResourceFetcher',['KeyedCallbackManager','MRequest'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){this.$MMessageServerResourceFetcher1=k;this.$MMessageServerResourceFetcher2=l;this.$MMessageServerResourceFetcher3=new h();this.$MMessageServerResourceFetcher4={};}j.prototype.get=function(k,l){this.getMulti([k],function(m){l(m[k]);});};j.prototype.getMulti=function(k,l){var m=!this.$MMessageServerResourceFetcher3.executeOrEnqueue(k,l);if(m)return;var n=k.filter((function(p){var q=!this.$MMessageServerResourceFetcher3.getResource(p)&&!this.$MMessageServerResourceFetcher4[p];if(q)this.$MMessageServerResourceFetcher4[p]=true;return q;}).bind(this));if(n.length===0)return;var o=new i(this.$MMessageServerResourceFetcher1(n)).setMethod('GET');o.listen('done',(function(p){if(!p||!p.payload)return;var q=this.$MMessageServerResourceFetcher2(p.payload);if(q)this.$MMessageServerResourceFetcher3.addResourcesAndExecute(q);}).bind(this));o.listen('finally',(function(p){n.forEach((function(){delete this.$MMessageServerResourceFetcher4[p];}).bind(this));}).bind(this));o.send();};j.prototype.set=function(k,l){var m={};m[k]=l;this.$MMessageServerResourceFetcher3.addResourcesAndExecute(m);};f.exports=j;},null);
__d('MMessagingSingletonMixin',['CurrentUser'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_getInstances:function(){if(!this._instances)this._instances={};return this._instances;},get:function(){return this.getForFBID(h.getID());},getForFBID:function(j){var k=this._getInstances();if(!k[j])k[j]=new this(j);return k[j];}};f.exports=i;},null);
__d("XChatThreadInfoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/thread_info\/",{thread_fbids:{type:"StringVector",defaultValue:[]},other_user_fbids:{type:"StringVector",defaultValue:[]}});},null,{});
__d('MMessagesThreadDataStore',['ActorURI','MMessageServerResourceFetcher','CurrentUser','MMessagingSingletonMixin','XChatThreadInfoAsyncController'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n){this.$MMessagesThreadDataStore1=new i(function(o){var p=l.getURIBuilder().setStringVector('other_user_fbids',o).getURI();if(j.getID()!==n)p=h.create(p,n);return p.toString();},function(o){return o.profiles;});this.$MMessagesThreadDataStore2=new i(function(o){var p=l.getURIBuilder().setStringVector('thread_fbids',o).getURI();if(j.getID()!==n)p=h.create(p,n);return p.toString();},function(o){return o.profiles;});this.$MMessagesThreadDataStore3={};this.$MMessagesThreadDataStore4={};this.$MMessagesThreadDataStore5={};}m.prototype.$MMessagesThreadDataStore6=function(n,o){if(n!==null){return this.$MMessagesThreadDataStore1;}else return this.$MMessagesThreadDataStore2;};m.prototype.getForNewMessage=function(n,o,p,q,r){var s=this.$MMessagesThreadDataStore6(n,o),t=n||o;s.get(t,(function(u){if(this.$MMessagesThreadDataStore3[t]===undefined){this.$MMessagesThreadDataStore3[t]=u.unread_count;delete u.unread_count;this.$MMessagesThreadDataStore4[p]=true;}else if(!this.$MMessagesThreadDataStore4[p]){delete u.unread_count;this.$MMessagesThreadDataStore4[p]=true;if(q){this.$MMessagesThreadDataStore3[t]=this.$MMessagesThreadDataStore3[t]+1;}else this.$MMessagesThreadDataStore3[t]=0;}if(this.$MMessagesThreadDataStore5[t]===undefined)this.$MMessagesThreadDataStore5[t]=u.pages_is_flagged;u.thread_unread_count=this.$MMessagesThreadDataStore3[t];r(u);}).bind(this));};m.prototype.updateFlagStatus=function(n,o,p,q){var r=this.$MMessagesThreadDataStore6(n,o),s=n||o;r.get(s,(function(t){this.$MMessagesThreadDataStore5[s]=p;q();}).bind(this));};m.prototype.getIsThreadFlagged=function(n,o){var p=n||o;return this.$MMessagesThreadDataStore5[p];};m.prototype.clearUnreadCount=function(n,o,p){var q=this.$MMessagesThreadDataStore6(n,o),r=n||o;q.get(r,(function(s){this.$MMessagesThreadDataStore3[r]=0;p();}).bind(this));};Object.assign(m,k);f.exports=m;},null);
__d("XChatUserInfoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});},null,{});
__d('MShortProfiles',['MMessageServerResourceFetcher','XChatUserInfoAsyncController'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new h(function(l){return i.getURIBuilder().setIntVector('ids',l).getURI().toString();},function(l){return l.profiles;}),k={get:function(l,m){j.get(l,m);},getMulti:function(l,m){j.getMulti(l,m);},set:function(l,m){j.set(l,m);}};f.exports=k;},null);
__d('MMessagesChannelPayloadPreparer',['CurrentUser','MMessagePayload','MMessagesThreadDataStore','MShortProfiles','Promise','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={fetchDataThenDispatch:function(o){o.message.folder=o.folder;if(!o.realtime_viewer_fbid){o.realtime_viewer_fbid=h.getAccountID();o.message.other_user_fbid=o.message.other_user_fbid!==undefined?o.message.other_user_fbid.toString():undefined;}var p=[new l(function(q,r){var s=j.getForFBID(o.realtime_viewer_fbid.toString());s.getForNewMessage(o.message.other_user_fbid,o.message.thread_fbid,o.message.mid,o.message.is_unread,function(t){q(t);});}),new l(function(q,r){k.get(o.message.sender_fbid.toString(),function(s){q(s);});})];l.all(p).done(function(q){var r=q[0],s=q[1];Object.assign(o.message,r);Object.assign(o.message,{sender_name:s.name});Object.assign(o.message,{type:o.type});o.parsedPayload=new i(o.message);m.invoke(o.type,null,o);});}};f.exports=n;},null);
__d('MTouchChannelPayloadRouter',['ChannelEventType','MMessagesChannelPayloadPreparer','MMessagesThreadDataStore','Stratcom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(q){if(n(q)){i.fetchDataThenDispatch(q);}else if(o(q)){var r=q.realtime_viewer_fbid.toString();q.other_user_fbids.forEach(function(s){return (j.getForFBID(r).clearUnreadCount(s.toString(),null,l));});q.thread_fbids.forEach(function(s){return (j.getForFBID(r).clearUnreadCount(null,s.toString(),l));});k.invoke(q.type,null,q);}else if(p(q)){j.getForFBID(q.realtime_viewer_fbid.toString()).updateFlagStatus(q.other_user_fbid.toString(),null,q.flagged,l);k.invoke(q.type,null,q);}else k.invoke(q.type,null,q);}function n(q){return (q.type===h.MESSAGE||q.type===h.PAGES_MESSAGE)&&q.message;}function o(q){return (q.type===h.MESSAGE||q.type===h.PAGES_MESSAGE)&&q.event==='read';}function p(q){return q.type===h.PAGES_MESSAGE&&q.event===h.PAGE_THREAD_FLAG_CHANGED;}g.route=m;},null);
__d('MTouchChannelManager',['MChannelManager','MTouchChannelPayloadRouter','Stratcom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=false;function m(){if(l)return;l=true;h.addListener(h.CHANNEL_MESSAGE,i.route);j.listen(['m:onload','m:jewels:init-counts'],null,h.startChannel);h.startChannel();}g.initialize=m;},null);
__d('MPresenceIcon',['setTimeoutAcrossTransitions','DOM','DataStore','MRequest','MURI','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=0,o=1,p=2,q;function r(){var s=i.scry(document.body,'i','presence-icon'),t=[];for(var u=0,v=s.length;u<v;++u){var w=j.get(s[u]);if(w.userid&&!t[w.userid])t[w.userid]=1;}var x=new l('/chat/presence_icon.php').toString(),y=new k(x).setData({ids:Object.keys(t)}).setIgnoreErrors(true);y.listen('done',function(z){for(var aa=0,ba=s.length;aa<ba;++aa){var ca=j.get(s[aa]);if(ca&&ca.userid&&(m.hasSigil(s[aa],'online-icon')&&z[ca.userid]==o)||m.hasSigil(s[aa],'mobile-icon')&&z[ca.userid]==p){i.show(s[aa]);}else i.hide(s[aa]);}});y.listen('finally',function(z){clearTimeout(q);q=h(r,n);});y.send();}n=n?n*100:60000;r();},null);
__d("XFeedNewStoriesBadgeController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/badge\/",{});},null,{});
__d('MFeedJewel',['CSS','DOM','MHistory','MJewel','MJewels','MPageController','MRequest','MURI','Stratcom','SubscriptionsHandler','XFeedNewStoriesBadgeController','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v,w,x,y,z,aa=0,ba=9,ca=15000;function da(oa){h.conditionClass(x,'popoverOpen',true);}function ea(oa){h.conditionClass(x,'popoverOpen',false);}function fa(){if(v)return;v=new q();v.addSubscriptions(i.listen(s(k.JEWEL_NAV_NODE_ID),'click','feed',ia));if(!w)v.addSubscriptions(p.listen('m:history:change',null,ha));}function ga(){v&&v.release();v=null;}function ha(oa){var pa=oa.getData().soft;for(var qa=0,ra=Object.keys(l);qa<ra.length;qa++)if(l[ra[qa]]===pa){ea();return;}da();}function ia(oa){var pa=oa.getNode('icon').getAttribute('href');if(new o(pa).normalize().toString()===new o(j.getPath()).normalize().toString()){oa.kill();m.reload();}}function ja(oa){i.setContent(t,oa>ba?ba+'+':''+oa);h.conditionClass(x,'noCount',!oa);h.conditionClass(x,'hasCount',oa);}function ka(){if(aa>ba)return;clearTimeout(z);z=setTimeout(function(){la();},ca);}function la(){var oa=r.getURIBuilder();y=new n(oa.getURI().toString());y.listen('done',function(pa){aa=pa.payload.count;ja(pa.payload.count);});y.listen('finally',function(){y=null;ka();});y.send();}function ma(){ja();clearTimeout(z);z=null;aa=0;}function na(oa,pa,qa){if(u)return;u=true;x=oa;w=qa;t=i.find(x,'span','count');p.listen('m:homepage:load',null,function(){da();fa();if(t)ma();});p.listen('m:homepage:unload',null,function(){ea();ga();if(t)ka();});if(pa){fa();}else if(t)ka();}f.exports={init:na};},null);
__d('MGenericJewel',['CSS','DOM','MHistory','MJewel','MViewport','MJewels','Stratcom','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={};function q(r,s,t){if(p[r])return;p[r]=true;var u;i.listen(o(k.JEWEL_NAV_NODE_ID),'click',r,function(v){if(v.getNode('icon')){v.prevent();if(!u){j.pushSoftState(r);n.invoke('MGenericJewel::clicked',r,{open:true});}else if(r===m.SEARCH)n.invoke('m:chrome:tab:show',r,{open:true});}});n.listen('m:history:change',null,function(v){var w=v.getData().soft===r;if(!w&&u)n.invoke('m:chrome:tab:hide',r);h.conditionClass(s,'popoverOpen',w);if(t){h.conditionClass(t,'popover_hidden',!w);h.conditionClass(t,'popover_visible',w);if(w)t.style.minHeight=l.getUseableHeight()+'px';}if(w&&!u)n.invoke('m:chrome:tab:show',r);u=w;});}f.exports={init:q};},null);
__d('MInitJewelCounts',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(j){h.invoke('m:jewels:init-counts',null,j);};g.main=i;},null);
__d("XMercuryThreadMetadataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/thread_info\/",{thread_fbids:{type:"StringVector",required:true}});},null,{});
__d('MMessagesThreadMetadataCache',['KeyedCallbackManager','MRequest','XMercuryThreadMetadataController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new h(),l={},m={get:function(n,o){var p=!k.executeOrEnqueue(n,o);if(p||l[n])return;l[n]=true;var q=new i(j.getURIBuilder().setStringVector('thread_fbids',[n]).getURI()).setMethod('GET');q.listen('done',function(r){if(r&&r.payload&&r.payload.threads){var s={};r.payload.threads.forEach(function(t,u,v){var w=t.thread_fbid;s[w]=t;});k.addResourcesAndExecute(s);}});q.listen('finally',function(){delete l[n];});q.send();}};f.exports=m;},null);
__d('MMessagesThreadImageRenderer',['CSS','JSXDOM','MItemConstants','MMessagesThreadImageRendererConfig','MMessagesThreadMetadataCache','MShortProfiles','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={participantImage:function(s,t){var u=i.img({src:k.profile_pic_src,alt:o._("User Profile Picture"),className:"_33zg"}),v=t===j.TALL_HEIGHT;h.conditionClass(u,"_33zg",v);h.conditionClass(u,"_508n",!v);q(s,u,v);return u;},threadImage:function(s,t){var u=i.img({src:k.profile_pic_src,alt:o._("Thread Picture"),className:"_33zg"}),v=t===j.TALL_HEIGHT;h.conditionClass(u,"_33zg",v);h.conditionClass(u,"_508n",!v);r(s,u);return u;}};function q(s,t,u){m.get(s,(function(v){var w=u?v.mThumbSrcLarge:v.mThumbSrcSmall;if(w)this.placeholder.setAttribute('src',w);}).bind({placeholder:t}));}function r(s,t){l.get(s,(function(u){var v=u.image_src;if(v)this.placeholder.setAttribute('src',v);}).bind({placeholder:t}));}f.exports=p;},null);
__d('MJewelSet',['ChannelEventType','DOM','HTML','AppRequestLogger','MJewels','MDynaTemplate','MJewel','MLogState','MItemConstants','MMessagesThreadImageRenderer','Popover','MRequest','Stratcom','MTouchChannelManager','MURI','fbt','isFacebookURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y={_viewerID:null,_requestsJewel:null,_messagesJewel:null,_notificationsJewel:null,_unseenNotificationIds:{},_jewelClickLogListener:null,_haveInitializedJewels:false,MSG_ID_PREFIX:'msg_',OTHER_USER_FBID_PREFIX:'other_user_fbid_',THREAD_FBID_PREFIX:'thread_fbid_',NOTIF_ID_PREFIX:'notif_',JEWEL_NAV_NODE_ID:'mJewelNav',JEWEL_NAV_CACHE_KEY:'mJewelNavKey',JEWEL_MSG_LIST:'mJewelMsgThreadContents',createJewels:function(z,aa){if(aa.showRequests){y._requestsJewel=new n('requests',{pos:o.CLICK_POSITION_REQUESTS_FLYOUT,mJewelMarauderLogger:z,softState:l.REQUESTS},'friends_jewel_module');y._requestsJewel.listen('cleared',y._markRequestsRead);y._requestsJewel.listen('jewel_click',y._logRequestsJewelClick);}y._messagesJewel=new n('messages',{contentsSigil:y.JEWEL_MSG_LIST,pos:o.CLICK_POSITION_MESSAGES_FLYOUT,mJewelMarauderLogger:z,softState:l.MESSAGES},'messages_jewel_module');y._messagesJewel.listen('cleared',y._markMessagesRead);y._notificationsJewel=new n('notifications',{pos:o.CLICK_POSITION_NOTIFICATIONS_FLYOUT,clickCallback:y._notificationClick,mJewelMarauderLogger:z,softState:l.NOTIFICATIONS},'notifications_jewel_module');y._notificationsJewel.listen('cleared',y._markNotificationsSeen);y._jewelClickLogListener=y._notificationsJewel.listen('jewel_click',y._logNotificationJewelClick);},openMessageJewel:function(){y._messagesJewel.openPopover();},markFriendRequestsSeen:function(event){if(y._requestsJewel===null)return;y._requestsJewel.setCount(0);},updateFriendRequests:function(event){if(y._requestsJewel===null)return;if(y._requestsJewel.isOpen())return;var z=new s('/ajax/mobile/friends/jewel/requests_markup');z.send();},onAfterUpdateFriendRequests:function(z){if(y._requestsJewel===null)return;y._setJewelCount(y._requestsJewel,z,y._markRequestsRead);r.getInstance('reqs_flyout').refreshConstraints();},refreshNotificationsConstraints:function(){r.getInstance('notifications_flyout').refreshConstraints();},updateNotification:function(event){var z=event.getData();if(z&&z.data){if(!y._notificationsJewel.isOpen()&&!y._unseenNotificationIds[z.data.alert_id])y._notificationsJewel.setCount(z.data.unread+y._notificationsJewel.getCount());y._notificationsJewel.removeMenuContent(y._getNotifNodeID(z.data.alert_id));var aa=y._createNotificationMarkup(z.data);y._notificationsJewel.prependMenuContent(aa);y.refreshNotificationsConstraints();y._unseenNotificationIds[z.data.alert_id]=true;if(y._notificationsJewel.isOpen())y._markNotificationsSeen();}},_createNotificationMarkup:function(z){z.id=y._getNotifNodeID(z.alert_id);if(z.type&&z.type=='app_request'){z.onclick=k?"require('AppRequestLogger').setLastApp("+z.app_id+')':null;z.target='_blank';}if(window.devicePixelRatio>1&&z.profile_pic_2x)z.profile_pic=z.profile_pic_2x;var aa=m.renderToHtml('@MJewelRealTimeNotificationTemplate',z);return new j(aa).getFragment().firstChild;},updateUnseenNotificationIds:function(event){var z=event.getData();if(!z)return;var aa=event.getType()=='notifications_read';if(z.alert_ids){var ba=0;for(var ca=0;ca<z.alert_ids.length;ca++)if(y._unseenNotificationIds[z.alert_ids[ca]]){delete y._unseenNotificationIds[z.alert_ids[ca]];aa&&y._notificationsJewel.updateMenuColor(y._getNotifNodeID(z.alert_ids[ca]),true,false);ba++;}var da=y._notificationsJewel.getCount();y._notificationsJewel.setCount(da-ba);}else{y._notificationsJewel.setCount(0);if(aa)for(var ea in y._unseenNotificationIds)y._notificationsJewel.updateMenuColor(y._getNotifNodeID(ea),true,false);y._unseenNotificationIds={};}},updateUnreadMessageCount:function(event){var z=event.getData();if(!z)return;if(z.unseen!==null&&!y._messagesJewel.isOpen())y._messagesJewel.setCount(z.unseen);if(z.unread!==null){var aa=null;if(z.unread>0){aa=w._("Messages ({unread_message_count})",[w.param('unread_message_count',z.unread)]);}else aa=w._("Messages");y._messagesJewel.setHeaderText('messages_jewel_header_text',aa);}},updateMessage:function(event){var z=event.getData();if(!z)return;if(z.parsedPayload){var aa=z.parsedPayload;if(aa.getFolder()!=='inbox'||!y._viewerIsAParticipant(y._viewerID,aa))return;if(y._messagesJewel.isInitialized()){y._messagesJewel.removeMenuContent(y._getMessageNodeID(aa.getOtherUserFBID(),aa.getThreadFBID()));var ba=y._createMessageMarkup(aa);y._messagesJewel.prependMenuContent(ba);if(y._viewerID==aa.getAuthorFBID())y._messagesJewel.updateMenuColor(y._getMessageNodeID(aa.getOtherUserFBID(),aa.getThreadFBID()),true,false);if(y._messagesJewel.isOpen())y._markMessagesRead();}}else if(z.mark_as_read){for(var ca=0;ca<z.other_user_fbids.length;ca++){var da=z.other_user_fbids[ca];if(z.folder_info[da]!=='inbox')continue;y._messagesJewel.updateMenuColor(y._getMessageNodeID(da.toString(),null),z.event=='read',false);}for(ca=0;ca<z.thread_fbids.length;ca++){var ea=z.thread_fbids[ca];if(z.folder_info[ea]!=='inbox')continue;y._messagesJewel.updateMenuColor(y._getMessageNodeID(null,ea),z.event=='read',false);}}},_createMessageMarkup:function(z){var aa={id:y._getMessageNodeID(z.getOtherUserFBID(),z.getThreadFBID()),href:z.getHref(),thread_name:z.getThreadNameWithUnreadCount(),time:z.getTime(),snippet:z.getSnippet()},ba=m.renderToHtml('@MJewelNewMessageTemplate',aa),ca=new j(ba).getRootNode(),da=i.find(ca,'*','profile_image');if(z.isCanonicalThread()){i.replace(da,q.participantImage(z.getOtherUserFBID(),p.SHORT_HEIGHT));}else if(z.hasThreadImage()){i.replace(da,q.threadImage(z.getThreadFBID(),p.SHORT_HEIGHT));}else i.replace(da,q.participantImage(z.getAuthorFBID(),p.SHORT_HEIGHT));if(z.getAttachmentCount()>0){var ea=i.scry(ca,'*','attachment-icon');for(var fa=0;fa<ea.length;fa++)i.show(ea[fa]);}return ca;},_getMessageNodeID:function(z,aa){z=z?z:'';aa=aa?aa:'';return (y.MSG_ID_PREFIX+y.OTHER_USER_FBID_PREFIX+z+y.THREAD_FBID_PREFIX+aa);},_getNotifNodeID:function(z){return y.NOTIF_ID_PREFIX+z;},_markRequestsRead:function(){t.invoke('m_requests_jewel_mark_read');var z=new s(new v('/a/jewel_requests_read.php').toString());z.send();},_markMessagesRead:function(){var z=new s(new v('/a/jewel_messages_read.php').toString());z.send();},_markNotificationsSeen:function(){if(y._jewelClickLogListener){y._jewelClickLogListener.remove();y._jewelClickLogListener=null;}var z=y._unseenNotificationIds;y._unseenNotificationIds={};var aa=[];for(var ba in z)aa.push(ba);var ca=new s(new v('/a/jewel_notifications_read.php').toString());ca.addData({ids:aa,count:aa.length,seen:true});ca.send();},_logNotificationJewelClick:function(){if(y._jewelClickLogListener){y._jewelClickLogListener.remove();y._jewelClickLogListener=null;}var z=new s(new v('/a/jewel_notifications_log.php').toString());z.addData({click_type:'jewel_click',count:y._notificationsJewel.getCount()});z.send();},_logRequestsJewelClick:function(){var z=y._requestsJewel._getContentsElement(),aa=i.scry(z,'div','attachment'),ba=[];for(var ca=0;ca<aa.length;ca++){var da=aa[ca].getAttribute('id');if(da&&da.startsWith('m_jewel_req_'))ba=ba.concat(da.replace('m_jewel_req_',''));}if(ba.length){var ea=new s('/friends/requests/log_impressions');ea.setMethod('POST');ea.addData({ids:ba.join(','),ref:'m_jewel'});ea.send();}if(y._requestsJewel.isOpen()&&t.hasSigil(z,'requests-flyout-loading'))new s('/ajax/mobile/friends/jewel/requests_markup').send();},_notificationClick:function(event){var z=event.getNode('marea');if(!z)return;var aa=z.getAttribute('id');if(!aa)return;y._notificationsJewel.updateMenuColor(aa,true,false);var ba=new s(new v('/a/jewel_notifications_log.php').toString());ba.addData({click_type:'jewel_notif_click',id:aa.replace(y.NOTIF_ID_PREFIX,'')});ba.send();},_viewerIsAParticipant:function(z,aa){if(!aa.getParticipantIDs())return false;if(aa.getParticipantIDs().indexOf(z)>-1)return true;return aa.getParticipantIDs().indexOf(z.toString())>-1;},_initJewelCount:function(z,aa,ba){z.setDuringInit(true);z.reregisterListeners();y._setJewelCount(z,aa,ba);z.setDuringInit(false);},_setJewelCount:function(z,aa,ba){if(!z.isOpen()){z.setCount(aa);}else if(aa)ba();},_initJewelCounts:function(event){var z=event.getData();y.initJewels(null,null);if(z.viewer_id)y._viewerID=z.viewer_id;if(z.unread_notification_ids)y._unseenNotificationIds=z.unread_notification_ids||{};if(z.request_count&&y._requestsJewel)y._initJewelCount(y._requestsJewel,z.request_count,y._markRequestsRead);if(z.message_count)y._initJewelCount(y._messagesJewel,z.message_count,y._markMessagesRead);if(z.notification_count)y._initJewelCount(y._notificationsJewel,z.notification_count,y._markNotificationsSeen);},initJewels:function(z,aa){if(y._haveInitializedJewels)return;y._haveInitializedJewels=true;u.initialize();y.createJewels(z,aa||{});if(y._requestsJewel){if(!y._friendRequestAddListener)y._friendRequestAddListener=t.listen('jewel_requests_add',null,y.updateFriendRequests);if(!y._friendRequestRemoveListener)y._friendRequestRemoveListener=t.listen('jewel_requests_remove_old',null,y.updateFriendRequests);if(!y._friendRequestSeenListener)y._friendRequestSeenListener=t.listen('friend_requests_seen',null,y.markFriendRequestsSeen);}if(!y._notificationListener)y._notificationListener=t.listen('m_notification',null,y.updateNotification);if(!y._notificationRefreshListener)y._notificationRefreshListener=t.listen('m:jewel-set:notifications-jewel:refresh-flyout',null,y.refreshNotificationsConstraints);if(!y._messageListener)y._messageListener=t.listen(h.MESSAGE,null,y.updateMessage);if(!y._messageCountListener)y._messageCountListener=t.listen('inbox',null,y.updateUnreadMessageCount);if(!y._notifReadListener)y._notifReadListener=t.listen('notifications_read',null,y.updateUnseenNotificationIds);if(!y._notifSeenListener)y._notifSeenListener=t.listen('notifications_seen',null,y.updateUnseenNotificationIds);if(!y._friendRequestResponseListener)y._friendRequestResponseListener=t.listen('m:requests:refresh',null,function(){r.getInstance('reqs_flyout').refreshConstraints();});}};(function(){t.listen('m:jewels:init-counts',null,y._initJewelCounts);})();f.exports=y;},null);
__d('MReactBookmarkTitles',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={app:'Apps',developer:'Developer',friend_list:'Friends',group:'Groups',suggested_game:'Suggested Games',interest_list:'Interests',page:'Pages',pinned:'Favorites',subscribed_searches:'News You\'re Following',gametime_live_events:'Live Events'};f.exports=h;},null);
__d('StaticContainer.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){'use strict';return !!l.shouldUpdate;};k.prototype.render=function(){'use strict';var l=this.props.children;if(l===null||l===false)return null;return h.Children.only(l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('MReactBookmarkHeader',['React','ReactDOM','Stratcom','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'MReactBookmarkHeader',propTypes:{header:l.string.isRequired,groupid:l.string,nux:l.object},render:function(){var n=this.props.groupid==='subscribed_searches'?'m-subscribed-searches-bookmark':'';return (h.createElement('h3',{className:"_52x1",'data-sigil':n,ref:'header'},h.createElement('span',{className:"_52x2"},this.props.header)));},componentDidMount:function(){if(this.props.nux){this.props.nux.setContext(i.findDOMNode(this.refs.header));j.listen('m:side-area:show',null,(function(){if(!this.props.nux.destroyed){this.props.nux.show();this.props.nux.updateNubPosition(110);}j.listen('scroll',null,(function(){if(!this.props.nux.destroyed)this.props.nux.show();}).bind(this));}).bind(this));}}});f.exports=m;},null);
__d('MReactBookmarkRow',['Banzai','FacebookAppIDs','MSession','React','URI','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=20,r=k.createClass({displayName:'MReactBookmarkRow',propTypes:{bookmark:p.object.isRequired,isUser:p.bool,onClickItem:p.func.isRequired},shouldComponentUpdate:function(s,t){var u=this.props.bookmark,v=s.bookmark;return u!==v||u.pic!==v.pic||u.name!==v.name||this.state.count!==t.count||u.url!==v.url||this.state.isSelected!==t.isSelected;},getInitialState:function(){return {count:this.props.bookmark.count.value,isSelected:this._isSelected(this.props.bookmark)};},componentWillReceiveProps:function(s){this.setState({count:s.bookmark.count.value,isSelected:this._isSelected(s.bookmark)});},_isSelected:function(s){var t=new l(window.location),u=new l(s.uri);if(t.getPath()!=u.getPath())return false;var v=t.getQueryData(),w=u.getQueryData();return v.sk===w.sk&&v.v===w.v&&v.app_id===w.app_id;},_onClick:function(s){if(s)h.post('bookmark_click',{datagt:s});this.props.onClickItem();},_onTouchEnd:function(event){if(event&&event.cancelable)event.preventDefault();},render:function(){var s=this.props.bookmark,t=!s.pic?null:k.createElement('i',{className:"_5i9c img",style:{backgroundImage:"url('"+s.pic+"')"}}),u=!s.pic&&s.hasOwnProperty('noBookmarkIconSpacing')&&s.noBookmarkIconSpacing,v=s.name.length>42,w=s.name.length<=42&&s.name.length>30,x=this.state.count>q?n._("20+"):this.state.count,y=s.name;if(s.id==i.MOST_RECENT_FEED)y=k.createElement('span',{'data-sigil':'most_recent_bookmark','data-testid':'most_recent_tab'},y);var z=[k.createElement('div',{key:'icon',className:(!u?"_52x3":'')+(u?' '+"_5p-5":'')+(j.useAngora?' '+"_52x4":'')},t),k.createElement('div',{key:'name',className:"_52x7"+(v?' '+"_5401":'')+(w?' '+"_5400":'')+(s.dir==='rtl'?' '+"_5w9v":'')+(s.dir==='ltr'?' '+"_5w9w":'')},y),k.createElement('div',{key:'count',className:"_55fj"+(!this.state.count?' '+"hiddenElem":'')},x,k.createElement('span',{className:"_55fk"},n._("new")))],aa;if(s.id==i.TRANSLATIONS||s.id==i.FACEBOOK_FOR_EMERGING_MARKET_ANDROID){aa=k.createElement('a',{href:s.url,className:"_5lut"+(' '+"_5luu"),onClick:this._onClick.bind(this,s.datagt),target:'_self'},z);}else aa=k.createElement('a',{href:s.url,className:"_5lut"+(' '+"_5luu"),onClick:this._onClick.bind(this,s.datagt)},z);return (k.createElement('li',{className:o(this.props.className,"_53_-"+(this.state.isSelected?' '+"selected":'')+(this.props.isUser?' '+"_4ut2":'')),onTouchEnd:this._onTouchEnd},k.createElement('div',{'data-sigil':'touchable',className:"_52x6 touchable"},aa,this._renderSideButton())));},_renderSideButton:function(){var s=this.props.bookmark;if(!s.side_button_icon||!s.side_button_uri)return null;return (k.createElement('a',{className:"_5lut _5rl-",href:s.side_button_uri,onClick:this.props.onClickItem},k.createElement('i',{className:"_5rl_ img",style:{backgroundImage:"url('"+s.side_button_icon+"')"}})));}});f.exports=r;},null);
__d('MReactCreateGroup',['Image.react','MSession','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MReactCreateGroup',propTypes:{uri:n.string.isRequired},render:function(){var p=JSON.stringify({dialogURI:this.props.uri});return (j.createElement('li',{className:"_53_-"},j.createElement('div',{className:"_52x6 touchable",'data-sigil':'touchable'},j.createElement('a',{rel:'dialog',href:'#','data-sigil':'touchable dialog-link','data-store':p,className:"_5lut _5luu"},j.createElement('div',{className:"_52x3"+(i.useAngora?' '+"_52x4":'')},j.createElement(h,{className:"_5i9c img",src:m('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addgroup.png')})),j.createElement('div',{className:"_52x7"},l._("Create New Group"))))));}});o.make=function(p,q){return q.id!=='group'?null:j.createElement(o,{uri:p,key:'bookmark_createGroup'});};f.exports=o;},null);
__d('MReactCreatePage.react',['Image.react','MSession','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MReactCreatePage',propTypes:{uri:n.string.isRequired},render:function(){return (j.createElement('li',{className:"_53_-"},j.createElement('div',{className:"_52x6 touchable",'data-sigil':'touchable'},j.createElement('a',{'data-sigil':'no_mpc',rel:'dialog',href:this.props.uri,className:"_5lut _5luu"},j.createElement('div',{className:"_52x3"+(i.useAngora?' '+"_52x4":'')},j.createElement(h,{className:"_5i9c img",src:m('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addpage.png')})),j.createElement('div',{className:"_52x7"},l._("Create New Page"))))));}});o.make=function(p,q){return !p||q.id!=='page'?null:j.createElement(o,{uri:p,key:'bookmark_createPage'});};f.exports=o;},null);
__d('MReactSeeAllBookmarks',['React','MReactBookmarkTitles','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'MReactSeeAllBookmarks',propTypes:{createGroupURI:m.string.isRequired,group:m.object.isRequired,onClickSeeAll:m.func.isRequired},render:function(){var o=this.props.group;!i[o.id]?l(0):undefined;return (h.createElement('a',{name:o.name,href:'#','data-sigil':'touchable',onClick:this._onClick,className:"touchable _52x6 _53__"},k._({"Apps":"See All Apps","Developer":"See All Developers","Friends":"See all friends","Groups":"See All Groups","News You're Following":"See All News You're Following","Suggested Games":"See All Suggested Games","Interests":"See All Interests","Pages":"See All Pages","Favorites":"See All Favourites","Live Events":"See All Live Events"},[k['enum'](i[o.id],{Apps:'Apps',Developer:'Developer',Friends:'Friends',Groups:'Groups','News You\'re Following':'News You\'re Following','Suggested Games':'Suggested Games',Interests:'Interests',Pages:'Pages',Favorites:'Favorites','Live Events':'Live Events'})])));},_onClick:function(o){this.props.onClickSeeAll({createGroupURI:this.props.createGroupURI,group:this.props.group});}});f.exports=n;},null);
__d('MReactBookmarks',['CurrentUser','MLoadingIndicator','MLogger','React','StaticContainer.react','MReactBookmarkHeader','MReactBookmarkRow','MReactCreateGroup','MReactCreatePage.react','MReactSeeAllBookmarks','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=k.PropTypes;function t(v,w){return 'bookmark_'+v.id+'_'+w.id;}var u=k.createClass({displayName:'MReactBookmarks',propTypes:{bookmarkGroups:s.array.isRequired,config:s.object,createGroupURI:s.string.isRequired,createPageURI:s.string,loaderId:s.string,loaderMarkup:s.object,onClickItem:s.func.isRequired,onClickSeeAll:s.func.isRequired,secondaryData:s.object,selectPinnedPageTestGK:s.bool,searchSubscriptionBookmarkNUX:s.object,showSearchSubscriptionBookmarkAtTop:s.bool},_removePinnedPageBookmark:function(v){for(var w=0;w<v.length;++w)if(String(v[w].id)===this.props.pinnedPageID)return v.splice(w,1)[0];return null;},_addBookmarkGroup:function(v,w){var x=this.props.createGroupURI,y=p.make(this.props.createPageURI,w),z=o.make(x,w);if(w.visible&&w.visible.length||y||z){var aa=w.visible||[],ba=w.all||aa;if(w.header){var ca=w.id==='subscribed_searches'?this.props.searchSubscriptionBookmarkNUX:null;v.push(k.createElement(m,{header:w.header,key:'group_'+w.id,groupid:w.id,nux:ca}));}aa.forEach((function(da){var ea=this.props.config&&this.props.config.profileBookmark;if(ea&&w.id==='user'&&h.getID()===da.id.toString()){var fa=ea.MReactProfileBookmarkRow;v.push(k.createElement('li',{key:t(w,da)},k.createElement(fa,{bookmark:da,config:ea,onClickItem:this.props.onClickItem})));}else v.push(k.createElement(n,{bookmark:da,key:t(w,da),isUser:w.id=='user',onClickItem:this.props.onClickItem}));}).bind(this));if(z)v.push(z);if(y)v.push(y);if(aa.length<ba.length||w.id==='page'&&this.props.selectPinnedPageTestGK)v.push(k.createElement('li',{className:"_53_-",key:'seeAll_'+w.id},k.createElement(q,{createGroupURI:x,group:w,onClickSeeAll:this.props.onClickSeeAll})));}},_getBookmarkGroups:function(v){var w=[];for(var x=0,y=v.length;x<y;++x){var z=v[x];this._addBookmarkGroup(w,z);}return w;},_getSecondary:function(v){var w=v.group,x=o.make(this.props.createGroupURI,w),y=[x];Array.prototype.push.call(y,w.all.map(function(z){return (k.createElement(n,{bookmark:z,key:t(w,z),onClickItem:this.props.onClickItem}));},this));return y;},reRankBookmarks:function(v){if(!this.props.showSearchSubscriptionBookmarkAtTop||v.length<=3)return v;var w=null;for(var x=0;x<v.length;++x)if(v[x].id==='subscribed_searches')w=x;if(!w)return v;var y=[];y[0]=v[0];y[1]=v[1];y[2]=v[w];var z=3;for(var aa=2;aa<v.length;++aa)if(x!=w){y[z]=v[aa];z++;}return y;},render:function(){var v=this.reRankBookmarks(this.props.bookmarkGroups),w=Object.prototype.toString.call(v).slice(8,-1);if(v&&w!=='Array')j.warn('[react-bookmarks] received unexpected payload: %s',JSON.stringify(v));var x=[];this._loaderMarkup=null;if(this.props.isSecondary){x=this._getSecondary(this.props.secondaryData);}else{x=this._getBookmarkGroups(v||[]);this._loaderMarkup=v&&!this.props.isPartial?null:k.createElement(l,null,k.createElement('div',{className:'apl',dangerouslySetInnerHTML:this.props.loaderMarkup}));}return (k.createElement('div',null,k.createElement('ul',{className:"_7k7"},x,this._loaderMarkup)));},componentDidMount:function(){if(this._loaderMarkup)i.init(this.props.loaderId);}});f.exports=u;},null);
__d('MReactSecondarySideMenuHeader',['React','cx','Image.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'MReactSecondarySideMenuHeader',propTypes:{backButtonImg:k.object,onClickBackButton:k.func.isRequired},render:function(){return (h.createElement('div',{className:"_56do",'data-sigil':'marea'},h.createElement('a',{className:'touchable','data-sigil':'blocking-touchable',href:'#',onClick:this._onClick},h.createElement('div',{className:"_4opv"},h.createElement(j,{height:'20',src:this.props.backButtonImg,width:'24'})),h.createElement('div',{className:"_56dq"},this.props.title))));},_onClick:function(m){this.props.onClickBackButton();}});f.exports=l;},null);
__d('Layout.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'Layout',render:function(){var l=[],m=[],n=null;h.Children.forEach(this.props.children,function(p,q){if(!p)return;var r=n!==null,s=h.cloneElement(p,{className:j(p.props.className,r?"_4bl8":''),key:q});if(n===null){if(p.type===k.FillColumn){n=s;}else l.push(s);}else m.push(s);});m.reverse();var o=l.concat(m);if(n)o.push(n);return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,'clearfix')}),o));}});k.Column=h.createClass({displayName:'Column',render:function(){return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,"_4bl7")})));}});k.FillColumn=h.createClass({displayName:'FillColumn',render:function(){return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,"_4bl9")})));}});f.exports=k;},null);
__d('ReactLayer',['React','ReactDOM','ReactBrowserEventEmitter','SubscriptionsHandler','emptyFunction','getObjectValues','invariant','renderSubtreeIntoContainer','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q={componentDidMount:function(){this._layerContainer=document.createElement('div');this._renderContentIntoContainer();this.layer=this.createLayer(this._layerContainer);!this.layer?n(0):undefined;this.layerSubscriptions=new k();this.layerSubscribe('show',(function(){return this.props.onToggle&&this.props.onToggle(true);}).bind(this));this.layerSubscribe('hide',(function(){return this.props.onToggle&&this.props.onToggle(false);}).bind(this));this.layerSubscribe('blur',(function(){return this.props.onBlur&&this.props.onBlur();}).bind(this));this._resetBehaviors();},componentDidUpdate:function(s){this._renderContentIntoContainer();this.receiveProps(this.props,s);},componentWillUnmount:function(){i.unmountComponentAtNode(this._layerContainer);this._layerContainer=null;if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null;}if(this.layer){this.layer.destroy();this.layer=null;}},_renderContentIntoContainer:function(){var s=false;o(this,h.createElement('div',null,this.props.children),this._layerContainer,(function(){if(s)p((function(){if(this.layer&&this.layer.isShown())this.layer.updatePosition();}).bind(this));}).bind(this));s=true;},render:function(){return null;},enumerateBehaviors:function(s){s=this.getEffectiveBehaviors(s);return m(s).filter(l.thatReturnsArgument);},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors);},updateBehaviors:function(s,t){this._diffBehaviors(s,t);},_diffBehaviors:function(s,t){s=this.getEffectiveBehaviors(s);t=this.getEffectiveBehaviors(t);var u;for(u in s)if(!t[u])this.layer.disableBehavior(s[u]);for(u in t){var v=s[u],w=t[u];if(v&&w){!(v===w)?n(0):undefined;continue;}v&&this.layer.disableBehavior(v);w&&this.layer.enableBehavior(w);}},getEffectiveBehaviors:function(s){if(!this.getDefaultEnabledBehaviors)return s||{};return babelHelpers._extends({},this.getDefaultEnabledBehaviors(),s);},layerSubscribe:function(s,t){var u=this.layer,v=u.subscribe||u.addListener;this.layerSubscriptions.addSubscriptions(v.call(u,s,function(w,x){j.isEnabled()&&t(w,x);}));}},r={createClass:function(s){return h.createClass({mixins:[q,s]});}};f.exports=r;},null);
__d('MPinnedPageSettingFlyout.react',['MFlyout','React','ReactDOM','ReactLayer','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=k.createClass({propTypes:{onHide:m.func},getDefaultProps:function(){return {onHide:l};},createLayer:function(o){var p=this.props,q=p.shown,r=p.className,s=p.contextRef,t=babelHelpers.objectWithoutProperties(p,['shown','className','contextRef']),u=r?r.split(' '):[];u.push('accelerate');var v=new h(babelHelpers._extends({},t,{classNames:u,context:j.findDOMNode(s()),margin:'none',nubalign:'center',offsetY:0,position:'below',width:'100%'}),o);v.conditionShow(q);return v;},componentDidMount:function(){this.layerSubscribe('hide',this.props.onHide);},receiveProps:function(o,p){this.updateBehaviors(p.behaviors,o.behaviors);if(this.layer)this.layer.conditionShow(o.shown);}});f.exports=n;},null);
__d('ReactFragment',['ReactChildren','ReactElement','emptyFunction','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=/^\d+$/,n=false,o={create:function(p){if(typeof p!=='object'||!p||Array.isArray(p)){l(false,'React.addons.createFragment only accepts a single object. Got: %s',p);return p;}if(i.isValidElement(p)){l(false,'React.addons.createFragment does not accept a ReactElement '+'without a wrapper object.');return p;}!(p.nodeType!==1)?k(0):undefined;var q=[];for(var r in p)h.mapIntoWithKeyPrefixInternal(p[r],q,r,j.thatReturnsArgument);return q;}};f.exports=o;},null);
__d('ReactLayeredComponentMixin',['ExecutionEnvironment','ReactInstanceMap','ReactCurrentOwner','React','ReactDOM','ReactFragment','renderSubtreeIntoContainer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={componentWillMount:function(){if(h.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){l.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){j.current=i.get(this);var p;try{p=this.renderLayers();}finally{j.current=null;}if(p&&!Array.isArray(p)&&!k.isValidElement(p))p=m.create(p);n(this,k.createElement('div',null,p),this._layersContainer);}};f.exports=o;},null);
__d("XPagesPinnedBookmarkController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/set_pin\/",{page_id:{type:"Int"},is_add:{type:"Bool",defaultValue:false}});},null,{});
__d("XPagesPinnedBookmarkSettingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/pin\/setting\/",{ref:{type:"String"}});},null,{});
__d('xuiglyph',['ix'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){if(typeof j==='string')j={name:j};var k=babelHelpers._extends({name:undefined,shade:'dark',size:'small'},j);return h.call(null,k.name+':'+k.shade+':'+k.size);}f.exports=i;},null);
__d('MReactBackBookmarkWithPinnedPageSetting.react',['Image.react','Layout.react','MPinnedPageSettingFlyout.react','MRequest','MXUIDiv.react','React','ReactLayeredComponentMixin','XPagesPinnedBookmarkController','XPagesPinnedBookmarkSettingController','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=i.Column,u=i.FillColumn,v=m.PropTypes,w=m.createClass({displayName:'MReactBackBookmarkWithPinnedPageSetting',mixins:[n],getInitialState:function(){return {showFlyout:false,hasPinnedPage:this.props.hasPinnedPage};},propTypes:{backButtonImg:v.object,hasPinnedPage:v.bool.isRequired,onClickBackButton:v.func.isRequired,title:v.string},render:function(){return (m.createElement(i,{className:"_38rd",'data-sigil':'marea'},m.createElement(t,{className:"_38re",onClick:this._onClickBack},m.createElement(h,{height:'20',src:this.props.backButtonImg,width:'24'})),m.createElement(u,{onClick:this._onClickBack},this.props.title),m.createElement(t,{className:"_38rg"},m.createElement(h,{src:s({name:'settings',shade:'dark',size:'large'}),ref:'settingButton'}))));},renderLayers:function(){var x=p.getURIBuilder().getURI();return (m.createElement(j,{contextRef:(function(){return this.refs.settingButton;}).bind(this),onHide:(function(){return this.setState({showFlyout:false});}).bind(this),shown:this.state.showFlyout},m.createElement(l,null,m.createElement('ul',null,m.createElement('li',{className:"_38rh",key:'add_or_change'},m.createElement('a',{href:x,rel:'dialog','data-sigil':'no_mpc'},m.createElement('div',{className:"_38ri"},r._("Add Page to bookmarks")))),m.createElement('li',{className:"_38rh",onClick:this._onClickRemoveBookmark,key:'remove'},m.createElement('div',{className:!this.state.hasPinnedPage?"_38rj":''},r._("Remove Page from bookmarks")))))));},_onClickBack:function(x){this.props.onClickBackButton();},_onClickRemoveBookmark:function(x){if(!this.state.hasPinnedPage){this.setState({showFlyout:false});return;}var y=new k(o.getURIBuilder().getURI()).setData({is_add:false});y.setMethod('POST');y.listen('done',(function(z){var aa=!!z.payload.success;this.setState({showFlyout:false,hasPinnedPage:!aa});this._onClickBack(x);}).bind(this));y.send();}});f.exports=w;},null);
__d('MReactPartialSideMenu',['MReactBookmarks','MReactBookmarkHeader','MReactSecondarySideMenuHeader','MReactBackBookmarkWithPinnedPageSetting.react','MReactBookmarkTitles','React','ReactDOM','Vector','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'MReactPartialSideMenu',propTypes:{bookmarkGroups:q.array.isRequired,config:q.object,createGroupURI:q.string.isRequired,createPageURI:q.string,footerMarkup:q.object,isPartial:q.bool.isRequired,isSecondary:q.bool.isRequired,loaderId:q.string,loaderMarkup:q.object,onClickBackButton:q.func.isRequired,onClickItem:q.func.isRequired,onClickSeeAll:q.func.isRequired,secondaryData:q.object,selectPinnedPageTestGK:q.bool,searchSubscriptionBookmarkNUX:q.object,showSearchSubscriptionBookmarkAtTop:q.bool},render:function(){var s=null;if(this.props.isSecondary){var t=this.props.secondaryData.group,u=p._({"Apps":"All Apps","Developer":"All Developers","Friends":"All friends","Groups":"All Groups","News You're Following":"All News You're Following","Suggested Games":"All Suggested Games","Interests":"All Interests","Pages":"All Pages","Favorites":"All Favourites","Live Events":"All Live Events"},[p['enum'](l[t.id],{Apps:'Apps',Developer:'Developer',Friends:'Friends',Groups:'Groups','News You\'re Following':'News You\'re Following','Suggested Games':'Suggested Games',Interests:'Interests',Pages:'Pages',Favorites:'Favorites','Live Events':'Live Events'})]);s=m.createElement(j,{backButtonImg:this.props.backButtonImg,title:u,onClickBackButton:this.props.onClickBackButton});if(this.props.selectPinnedPageTestGK&&t.id==='page'){var v=this.props.bookmarkGroups[0].visible.length>1;s=m.createElement(k,{backButtonImg:this.props.backButtonImg,hasPinnedPage:v,onClickBackButton:this.props.onClickBackButton,title:u});}}var w=null,x=null;if(!this.props.isSecondary&&this.props.footerMarkup){var y=p._("HELP & SETTINGS");w=m.createElement(i,{header:y});x=m.createElement('div',{'data-sigil':'react-side-area-footer',dangerouslySetInnerHTML:this.props.footerMarkup});}return (m.createElement('div',null,s,m.createElement('div',{className:'mSideMenu'},m.createElement(h,{bookmarkGroups:this.props.bookmarkGroups,config:this.props.config,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,isPartial:this.props.isPartial,isSecondary:this.props.isSecondary,loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,onClickItem:this.props.onClickItem,onClickSeeAll:this.props.onClickSeeAll,secondaryData:this.props.secondaryData,selectPinnedPageTestGK:this.props.selectPinnedPageTestGK,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop}),w,x)));},getDisplayedHeight:function(){return o.getDim(n.findDOMNode(this)).y;}});f.exports=r;},null);
__d("XChatBuddyCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/online_friend_count\/",{});},null,{});
__d('fetchBookmarks',['FBJSON','MRequest'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=new i('/api/').setData({method:'bookmarks.get',mobile:true});m.listen('error',function(n){n.isHandled=true;l(n);});m.listen('done',function(n){if(typeof n!=='string'){l("payload is not string.",n);return;}var o=h.parse(n,f.id);if('error_code' in o||o&&o[0]&&'error_code' in o[0]){l(o[0]||o);}else k(o);});m.send();}f.exports=j;},null);
__d('MReactSidenav',['MLogger','MRequest','MReactPartialSideMenu','MViewport','React','Stratcom','XChatBuddyCountController','cx','fetchBookmarks','invariant','keyMirror','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes,u=217974574879787,v=245119965500321,w=r({SELF:null,SECONDARY:null}),x={};x[w.SELF]='mainMenu';x[w.SECONDARY]='mainMenu';var y=null,z=null,aa=l.createClass({displayName:'MReactSidenav',_bookmarkCountsById:[],_viewportConstraint:null,propTypes:{backButtonImg:t.object,bookmarkGroups:t.array,config:t.object,createGroupURI:t.string.isRequired,createPageURI:t.string,display:t.bool.isRequired,footerMarkup:t.object,isPartial:t.bool.isRequired,loaderId:t.string,loaderMarkup:t.object,onClickItem:t.func.isRequired,typeaheadConfig:t.object,selectPinnedPageTestGK:t.bool,searchSubscriptionBookmarkNUX:t.object,showSearchSubscriptionBookmarkAtTop:t.bool},statics:{update:function(ba){if(!y){if(ba)z=ba;}else{y.applyPayload(ba);if(!ba||ba.isPartial)y.fetchBookmarks();}},forceUpdate:function(){y&&y.fetchBookmarks();}},getInitialState:function(){var ba=this.props,ca=z&&z.bookmarkGroups||ba.bookmarkGroups||[];this._adaptBookmarkGroups(ca);return {displayMode:w.SELF,secondaryData:null,isPartial:ba.isPartial,bookmarkGroups:ca,footerMarkup:z&&z.footerMarkup||ba.footerMarkup};},componentWillMount:function(){if(z)this.fetchBookmarks();},deferredRefresh:function(){s(this._refreshViewport,0);},deferredViewportUpdate:function(){s(this._updateViewport,0);},toggleMenu:function(ba){!this._isOpen()?q(0):undefined;this.setState({secondaryData:ba,displayMode:this.state.displayMode===w.SELF?w.SECONDARY:w.SELF},this.deferredRefresh);},updateChatCounts:function(){var ba=n.getURIBuilder().getURI(),ca=new i(ba).setIgnoreErrors(true);ca.listen('done',(function(da){this._getBookmarkCount(v).value=da.online_friend_count;this.setState(this.state);}).bind(this));ca.send();},_updateViewport:function(){if(this._isOpen()){var ba=this.refs[x[this.state.displayMode]];!ba?q(0):undefined;var ca=ba.getDisplayedHeight()+k.getHeaderHeight();if(this._viewportConstraint){this._viewportConstraint.setValue(ca);}else this._viewportConstraint=k.addHeightConstraint(ca);}else if(this._viewportConstraint){this._viewportConstraint.release();this._viewportConstraint=null;}},_refreshViewport:function(){this._updateViewport();k.scrollToHeader();},render:function(){return (l.createElement('div',{'aria-hidden':!this.props.display,className:(this.props.display?"_5q9e":'')+(!this.props.display?' '+"_5q9f":'')+(!this.state.isPartial?' '+"_1aqy":'')},l.createElement(j,{config:this.props.config,ref:'mainMenu',loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,footerMarkup:this.state.footerMarkup,isSecondary:this.state.displayMode===w.SECONDARY,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,bookmarkGroups:this.state.bookmarkGroups,isPartial:this.state.isPartial,secondaryData:this.state.secondaryData,backButtonImg:this.props.backButtonImg,onClickItem:this._onClickItem,onClickBackButton:this.toggleMenu,onClickSeeAll:this.toggleMenu,selectPinnedPageTestGK:this.props.selectPinnedPageTestGK,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop})));},_onClickItem:function(){this.props.onClickItem();this.setState(this.state);},_isOpen:function(){return this.props.display;},componentDidMount:function(){!!y?q(0):undefined;y=this;m.listen('click',['side-menu-item','tag:a'],this._onClickItem);m.listen('inbox',null,this._updateMessageCounts);m.listen('nav_update_counts',null,this._updateSidenavCounts);},_updateBookmarks:function(ba){this._adaptBookmarkGroups(ba);this.setState({bookmarkGroups:ba,isPartial:false},this._refreshWhenOpen);},_refreshWhenOpen:function(){if(this._isOpen())this._refreshViewport();},_getBookmarkCount:function(ba){var ca=this._bookmarkCountsById[ba];if(!ca)ca=this._bookmarkCountsById[ba]={};return ca;},_updateSidenavCounts:function(ba){var ca=ba.getData().items;for(var da=0;da<ca.length;da++){var ea=ca[da],fa=parseInt(ea.key.substring(ea.key.indexOf('_')+1),10);!('count' in ea||'increment' in ea)?q(0):undefined;var ga=this._getBookmarkCount(fa);if(ea.count!==undefined){ga.value=ea.count;}else if(ea.increment)ga.value=Math.max(0,ga.value+ea.increment);}this.setState(this.state);},_updateMessageCounts:function(ba){this._getBookmarkCount(u).value=ba.getData().unread;this.setState(this.state);},_adaptBookmarkGroups:function(ba){for(var ca=0;ca<ba.length;ca++){this._adaptBookmarkCounts(ba[ca].all||[]);this._adaptBookmarkCounts(ba[ca].visible||[]);}return ba;},_adaptBookmarkCounts:function(ba){for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=this._getBookmarkCount(da.id);ea.value=da.count;da.count=ea;}},applyPayload:function(ba){if(ba&&ba.bookmarkGroups)ba.bookmarkGroups=this._adaptBookmarkGroups(ba.bookmarkGroups);this.setState(ba,this.deferredViewportUpdate);},fetchBookmarks:function(){p(this._updateBookmarks,function(ba){h.warn('[react-bookmarks] error: %s',JSON.stringify(ba));});}});f.exports=aa;},null);
__d('MReactSidearea',['CSS','MReactSidenav','MTabbable','React','ReactDOM','SubscriptionsHandler','Stratcom','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.createClass({displayName:'MReactSidearea',getInitialState:function(){return {isUserOpened:!!this.props.initialOpenState};},render:function(){return (k.createElement(i,babelHelpers._extends({},this.props,{ref:'sidenav',display:this.state.isUserOpened,onClickItem:this._setUserClosed})));},componentWillMount:function(){this._setUserClosed=this._setUserOpened.bind(this,false);},componentDidMount:function(){this._subscriptions=new m();this._subscriptions.addSubscriptions(n.listen('m:chrome:tab:show','bookmarks',this._onTabToggle),n.listen('m:chrome:tab:hide','bookmarks',this._onTabToggle));this._componentDidMountOrUpdate();},componentDidUpdate:function(q,r){var s=this.state.isUserOpened,t=r.isUserOpened;if(t!==s)n.invoke(s?'m:side-area:show':'m:side-area:hide');if(s&&!t)o((function(){return j.focusTabbable(l.findDOMNode(this));}).bind(this),0);this._componentDidMountOrUpdate();},_componentDidMountOrUpdate:function(){h.conditionClass(document.body,'sideShowing',this.state.isUserOpened);this.refs.sidenav.deferredViewportUpdate();},_onTabToggle:function(event){this._setUserOpened(event.getType()==='m:chrome:tab:show');},_setUserOpened:function(q){if(q)this.refs.sidenav.updateChatCounts();this.setState({isUserOpened:q});},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;}});f.exports=p;},null);
__d('MSearchOverlay',['setTimeoutAcrossTransitions','$','CSS','DOM','DataStore','MSearchConst','MSearchTrendingLogger','MViewport','MLinkHack','Stratcom','URI','Vector'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=function(u){var v=i(u.overlay),w=k.find(v,'div','typeahead-hardpoint'),x=i(u.textinput),y=u.nullstate,z=u.emptyStatePromo;if(x.tagName!=='input')x=k.find(x,'input');var aa=l.get(w);if(aa.typeahead){ba();}else q.listen('m:search-typeahead:ready',null,ba);function ba(){var ca=aa.typeahead;q.listen('m:text-input:clear',null,la);var da,ea=true;function fa(){return Math.max(s.getDim(v).y+o.getHeaderHeight(),o.getScreenHeight());}function ga(){if(!z)return;j.conditionShow(z,ca.getValue().length===0);}function ha(oa){da=o.addHeightConstraint(fa());j.conditionClass(i("page"),'sideSearchShowing',true);o.scrollToHeader();ga();if(y&&ca.getValue().length===0)ia(y);}function ia(oa){var pa=oa.getElementsByClassName('jx-typeahead-results')[0].getAttribute('data-query'),qa=[],ra=[],sa=oa.getElementsByClassName('jx-result');for(var ta=0;ta<sa.length;ta++){qa.push(sa[ta].getAttribute('data-topic'));ra.push(ta+1);}n.registerTrendingTopicListeners(qa,m.msite_news_non_gs_null_state,ra,pa);n.logTrendingTopicImpressions(qa,m.msite_news_non_gs_null_state,ra,pa);}function ja(oa){j.conditionClass(i("page"),'sideSearchShowing',false);da&&da.release();da=null;}function ka(oa){q.invoke('log-m-search-session-end',null,{reason:oa});}function la(){ca.clear();ca.refresh();}function ma(){ea=false;la();na();ga();}function na(){x.blur();}q.listen('m:chrome:tab:show','search',function(oa){ha();x.focus();});q.listen('m:chrome:tab:hide','search',function(oa){ka('cancel');ma();ja();});ca.listen('show',function(){h(function(){da&&da.setValue(fa());},0);if(y)if(ca.getValue().length>0){k.hide(y);}else k.show(y);ga();});k.listen(w,'click','typeahead-result',function(oa){var pa=q.invoke('m:search-typehead:click',null,oa.getNode('typeahead-result')),qa=pa.getData();p.safe(qa,function(ra){ra.href=new r(ra.href).addQueryData('refid',m.refid);});pa.setData(qa);if(pa.getPrevented()){if(pa.getStopped()){oa.kill();}else oa.prevent();na();}else{setTimeout(function(){ma();},0);ja();}});ca.listen('refresh-viewport',function(){q.context().prevent();});ca.listen('choose',function(){q.context().prevent();});v.onclick=function(){x.focus();};k.listen(v,'touchstart','jx-result',na);k.listen(x,'focus',null,function(oa){ea=true;o.scrollToHeader();});ca.listen('blur',function(oa){if(ea)oa.prevent();});q.listen('m:side-area:hide',null,function(){ka('back');ja();});}};g.main=t;},null);
__d('MJewelMarauderLogger',['MarauderLogger'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l,m){var n={};if(l==='scroll'){n.action_type=l;n.extra_data=m;}else if(l==='clicked'){n.action_type=l;var o=m.getNode('tag:a');n.extra_data=o&&o.href?o.href:null;}else if(l==='updated')n.action_type=l;h.log('jewel',k,n);}function j(k,l,m){h.toggleModule(k,l,m);}f.exports={log:i,toggleModule:j};},null);
__d('MBeeperController',['Bootloader','CSS','DOM','MHistory','Stratcom','URI','cx','getActiveElement','setTimeoutAcrossTransitions','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s,t,u,v=[],w,x=3000;function y(ga){w=ga;p(function(){l.listen('m_notification',null,z);l.listen('blur',null,aa);l.listen('m:history:change',null,fa);},x);}function z(ga){var ha=ga.getData();if(!ha||!ha.data||w&&!ha.data.type||w&&w.indexOf(ha.data.type)===-1)return;var ia={notification:ha.data};ea(ia);if(!r&&!s){h.loadModules(["ReactComponentRenderer","MBeeper.react"],function(ja,ka){r=ja;s=ka;fa();});}else fa();}function aa(ga){var ha=ga.getTarget();if(ha&&ca(ha))setTimeout(fa,50);}function ba(){v.shift();fa();}function ca(ga){var ha=ga.tagName;return ha==='INPUT'||ha==='TEXTAREA'||ga.contentEditable==='true';}function da(){return !(ca(o())||q('root').offsetHeight===0);}function ea(ga){if(!v.find(function(ha){return ha.notification.alert_id===ga.notification.alert_id;}))v.push(ga);}function fa(){if(!da())return;var ga=new m(k.getPath());if(ga.getQueryData().soft==='notifications'){v=[];return;}var ha=v[0];if(!ha)return;if(!u){u=j.create('div');i.addClass(u,"_3hy8");q('page').appendChild(u);}if(!t){t=new r(s,u);t.setProps(babelHelpers._extends({},ha,{onHide:ba}));}else if(t.component.isReady())t.setProps(ha);}g.init=y;},null);
__d('MFirstPageRecorder',['DOM','MDeepCopy','MURI','MPageCache','MPageController','MPageHeaderRight','MPageTitle','MPageletTypes','MRenderingScheduler','MResponseData','Stratcom','ScriptPath','$','ServerJS'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v=true,w=[];function x(){if(u)return;u=true;var y=new j(l.getRenderedPath()),z,aa=[];w=[p.attachListenerToSyncPageletComplete(function(){k.setCachedPage(y,z);k.clearCachedIUIResponses(y);aa.forEach(function(ba){k.addCachedIUIResponse(y,ba);});}),p.attachListenerToSyncPageletLoader(function(ba){if(ba.pageletConfig.type!==o.CONTENT)return;var ca={js:ba.js||[],css:ba.css||[],ixData:ba.ixData};ca.actions=[{cmd:'replace',target:ba.id,html:ba.content.__html,replaceifexists:false,allownull:false},{cmd:'append',target:'static_templates',html:ba.pageletConfig.templates.__html,replaceifexists:true}];var da=i(ba.pageletConfig.serverJSData),ea=[function(){var ka=c('ServerJS');new ka().handle(i(da));}];if(v){v=false;var fa=t('root').cloneNode(true);z=new q({js:[],css:[],ixData:[],actions:[{cmd:'script',type:'immediate',fn:function(){h.replace(t('root'),fa.cloneNode(true));}}]});var ga=m.getChromeHeaderRightContent();if(ga&&ga.length>0)ea.push(function(){var ka=document.createDocumentFragment();for(var la=0;la<ga.length;la++)ka.appendChild(ga[0]);m.setup({node:ka});});var ha=document.title;ea.push(function(){n.setTitle(ha);});var ia=s.getPageInfo();if(ia)ea.push(function(){s.set(ia.scriptPath,ia.categoryToken,ia.extraData);});}for(var ja=0;ja<ea.length;ja++)ca.actions.push({cmd:'script',type:'onload',fn:ea[ja]});aa.push(new q(ca));})];}r.listen('m:page:unload',null,function(){w.forEach(function(y){y&&y.remove();y=null;});u=true;r.removeCurrentListener();});g.startPageletCaching=x;},null);
__d("XQuickPromotionSimpleLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});},null,{});
__d('MQuickPromotionMMessengerBanner',['DOM','MRequest','Stratcom','XQuickPromotionSimpleLoggingController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=false,m=null,n=function(o,p,q,r){if(l)return;l=true;function s(){var w=k.getURIBuilder().setInt('qp_id',q).setStringToStringMap('qp_instance_log_data',r).setString('qp_event','view').getURI(),x=new i(w);x.send();}function t(event){j.removeCurrentListener();var w=event.getNode(o.promo);h.hide(w);m.remove();}function u(event){if(event.getData().jewel==o.jewel)s();}function v(event){j.removeCurrentListener();s();m=j.listen('m:jewel:flyout:open',null,u);}j.listen('click',o.close,t);if(p){j.listen('m:qp:embedded-interstitial:close',null,v);}else m=j.listen('m:jewel:flyout:open',null,u);};g.main=n;},null);
__d('MTextInputClearable',['setTimeoutAcrossTransitions','$','DOM','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=function(m){var n=i(m.wrapper),o=j.find(n,'input','clearableInput'),p=j.find(n,'div','clearButton'),q=getComputedStyle(n).getPropertyValue("display").indexOf('inline-')!==-1,r=[],s;function t(){if(s)clearTimeout(s);if(q&&!n.style.width)n.style.width=n.clientWidth+'px';j.show(p);}function u(){j.hide(p);}function v(z){s=h(function(){u();},0);}function w(z){if(!o.value.length){u();}else if(p.style.display==='none')t();}function x(z){o.value='';u();o.focus();k.invoke('m:text-input:clear',null,o);}function y(){if(s)clearTimeout(s);if(!k.hasSigil(o,'permanentInput')){r.forEach(function(z){z.remove();});r=null;}}r.push(j.listen(o,'blur',null,v),j.listen(o,['focus','keyup'],null,w),j.listen(p,'click',null,x),k.listen('m:page:unload',null,y));};g.main=l;},null);
__d('MSearchTypeaheadSeeMore',['DOM','MSearchTypeaheadSeeMoreExperiments','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=20;function m(){'use strict';this.$MSearchTypeaheadSeeMore1=this.$MSearchTypeaheadSeeMore2();this.$MSearchTypeaheadSeeMore3=h.create('a',{className:"touchable viewMore _2u_r",sigil:'touchable typeahead-result'},[this.$MSearchTypeaheadSeeMore4(),this.$MSearchTypeaheadSeeMore1]);}m.prototype.$MSearchTypeaheadSeeMore4=function(){'use strict';return h.create('div',{className:"_2u_s"},h.create('i',{className:"_2u_t"}));};m.prototype.$MSearchTypeaheadSeeMore2=function(){'use strict';return h.create('div',{className:"_2u_u"});};m.prototype.show=function(){'use strict';h.show(this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.hide=function(){'use strict';h.hide(this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.setQuery=function(n){'use strict';this.$MSearchTypeaheadSeeMore3.href='/search/top/?q='+encodeURIComponent(n);h.setContent(this.$MSearchTypeaheadSeeMore1,this.$MSearchTypeaheadSeeMore5(this.$MSearchTypeaheadSeeMore6(n)));return this;};m.prototype.injectInto=function(n){'use strict';var o=i.placement;if(o==='last'){o=n.length;}else o=Number(o);n.splice(o,0,this.$MSearchTypeaheadSeeMore3);return this;};m.prototype.$MSearchTypeaheadSeeMore5=function(n){'use strict';if(i.verbose)return k._(["See more results for {query}","44e6d113d67af68d7209174cf9420c3d"],[k.param('query',n)]);return n;};m.prototype.$MSearchTypeaheadSeeMore6=function(n){'use strict';if(n.length>l)return n.substr(0,l-3)+'...';return n;};f.exports=m;},null);
__d('MSearchTypeahead',['DOM','CSS','MPageController','MPlaces','MRequest','MSearchTypeaheadSeeMore','SearchMTouchGlobalOptions','MURI','Stratcom','Typeahead','createDeprecatedProperties','cx','eventsMixinDeprecated','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;v=babelHelpers.inherits(x,q);w=v&&v.prototype;function x(y,z,aa){'use strict';var ba=h.find(y,'div','searchLoadingIndicator');h.hide(ba);w.constructor.call(this,y,z);this.loadingIndicator=ba;this.recentHeader=h.scry(y,'div','recentSearchesHeader')[0];this.hideRecentHeader();this.PYMKHeader=h.scry(y,'div','PYMKHeader')[0];this.hidePYMKHeader();this._typeaheadSessionID=null;this._seeMore=new m().hide();this.uberbarQRPromo=h.scry(document.body,'*','uberbarQRPromo')[0];if(n.noSnippet)i.addClass(this._root,'nosnippet');h.listen(this._root,'click','tag:a',(function(ca){this.invoke('select',ca.getNode('tag:a'));}).bind(this));h.listen(this._control,'focus',null,this.onFocus.bind(this));p.listen('m-typeahead-logger:new-session-id',null,(function(ca){if(!this._typeaheadSessionID)this._typeaheadSessionID=ca.__auto__data.sessionID;}).bind(this));h.listen(this._control,'blur',null,this.stopWatchLocation);}x.prototype.hide=function(){'use strict';if(this.getPermanent())return;q.prototype.hide.call(this);};x.prototype.setDatasource=function(y){'use strict';q.prototype.setDatasource.call(this,y);y.listen('complete',this.complete.bind(this));this.listen('show',this.resultsShown.bind(this));};x.prototype.submit=function(){'use strict';if(this.getValue()!==''){q.prototype.submit.call(this);if(n.enableSeeMore){var y=new o('/search/').setQueryData({query:this.getValue(),tsid:this._typeaheadSessionID}).toString();j.forceLoad(y);}this._control.blur();}};x.prototype.waitForResults=function(){'use strict';if(window.FW_ENABLED){this._root.appendChild(this.loadingIndicator);}else this._root.insertBefore(this.loadingIndicator,this._root.lastChild);h.show(this.loadingIndicator);};x.prototype.complete=function(){'use strict';if(window.FW_ENABLED&&this._display.length===0)this._root.appendChild(h.create('div',{className:'noResults'},u._("No results")));if(window.FW_ENABLED&&this.uberbarQRPromo){this._root.appendChild(this.uberbarQRPromo);h.show(this.uberbarQRPromo);}h.hide(this.loadingIndicator);};x.prototype.hideRecentHeader=function(){'use strict';this.recentHeader&&h.hide(this.recentHeader);};x.prototype.showRecentHeader=function(){'use strict';this.recentHeader&&h.show(this.recentHeader);};x.prototype.hidePYMKHeader=function(){'use strict';this.PYMKHeader&&h.hide(this.PYMKHeader);};x.prototype.showPYMKHeader=function(){'use strict';this.PYMKHeader&&h.show(this.PYMKHeader);};x.prototype.resultsShown=function(y){'use strict';var z=y.show;if(this.getValue().length!==0){this.hideRecentHeader();this.hidePYMKHeader();if(!window.FW_ENABLED)if(n.enableSeeMore)this._seeMore.setQuery(this.getValue()).injectInto(z).show();z.push(this.loadingIndicator);h.show(this.loadingIndicator);}else{var aa=this.adjustHeaders(z);if(aa>0)i.addClass(z[aa-1],"jx-result-no-border");}if(this.showPresence)this.showPresenceIcons(z);return true;};x.prototype.adjustHeaders=function(y){'use strict';var z=-1;for(var aa=0;aa<y.length;aa++){var ba=h.find(y[aa],'a'),ca=JSON.parse(ba.getAttribute('data-extra'));if(ca.isPYMK){z=aa;break;}}if(z>-1){y.splice(z,0,this.PYMKHeader);this.showPYMKHeader();}else this.hidePYMKHeader();if(z===0){this.hideRecentHeader();}else this.showRecentHeader();if(this.PYMKHeader)i.conditionClass(this.PYMKHeader,"mSearchTypeaheadHeaderWithBorder",z>0);return z;};x.prototype.showPresenceIcons=function(y){'use strict';var z=[];for(var aa=0;aa<y.length;++aa)if(y[aa].rel)z.push(y[aa].rel);var ba=new l(new o('/chat/presence_icon.php').toString());ba.setData({ids:z});ba.listen('done',(function(ca){if(!ca||ca.length===0)return;var da=h.scry(this._root,'a','typeahead-result');for(var ea=0;ea<da.length;++ea)if(ca[da[ea].rel]===1){var fa=h.find(da[ea],'i','presence');h.show(fa);}}).bind(this));ba.send();};x.prototype.addLocationAwareSource=function(y){'use strict';p.listen('location-update',null,function(event){y.setAuxiliaryData(Object.assign(y.getAuxiliaryData()||{},{json_location:k.getCurrentJSONLocation()}));});};x.prototype.onFocus=function(){'use strict';this.refresh();this.startWatchLocation();};x.prototype.startWatchLocation=function(){'use strict';if(k.shouldUseFWGeolocation())k.monitorLocation();};x.prototype.stopWatchLocation=function(event){'use strict';k.clearWatch();};r(x,{permanent:false});t(x,['select']);Object.assign(x.prototype,{icons:null,loadingIndicator:null,uberbarQRPromo:null,showPresence:false});f.exports=x;},null);
__d('MTypeaheadNativeSource',['MTypeaheadHelpers','Stratcom','TypeaheadInternationalNormalizer','TypeaheadPreloadedSource','createDeprecatedProperties','eventsMixinDeprecated','FWLoader'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=c('FWLoader').FW;n=babelHelpers.inherits(q,k);o=n&&n.prototype;function q(r){'use strict';o.constructor.call(this,r);this.setNormalizer(j.normalize);}q.prototype.didStart=function(){'use strict';var r=this;i.listen('fw-bootstrapped-results-ready',null,function(s){r.invoke('rawresultsready',s.getData().friends);r.ondata(s.getData().friends);});window.FW_ENABLED&&p.bootstrapUsers();};q.prototype.ondata=function(r){'use strict';for(var s=0;s<r.length;++s)r[s].idx=s;k.prototype.ondata.apply(this,arguments);};q.prototype.sortHits=function(r,s){'use strict';var t=(function(u,v){var w=this._raw[u],x=isNaN(w.idx)?Number.MAX_VALUE:w.idx,y=this._raw[v],z=isNaN(y.idx)?Number.MAX_VALUE:y.idx;return x-z;}).bind(this);s.sort(t);};q.prototype.matchResults=function(r){'use strict';var s=this.normalize(r);k.prototype.matchResults.call(this,s);};q.prototype.createNode=function(r){'use strict';return h.createNode(r,this.getShowSecondaryAction());};m(q,['rawresultsready']);l(q,{transformer:function(r){return {name:r.text,uri:r.path,id:r.uid,photo:r.photo,display:r.display||r.text,action:r.action,paths:r.paths,permissions:r.permissions,bootstrap:r.bootstrap,nativethirdpartyappicon:r.nativethirdpartyappicon};},showSecondaryAction:true});f.exports=q;},null);
__d('MTypeaheadPackagedSource',['MTypeaheadHelpers','TypeaheadInternationalNormalizer','TypeaheadPreloadedSource','createDeprecatedProperties'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,j);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this);this.packagedResults=o;this.setNormalizer(i.normalize);}n.prototype.didStart=function(){'use strict';this.ondata(this.packagedResults);};n.prototype.ondata=function(o){'use strict';for(var p=0;p<o.length;++p)o[p].idx=p;j.prototype.ondata.apply(this,arguments);};n.prototype.sortHits=function(o,p){'use strict';var q=(function(r,s){var t=this._raw[r],u=isNaN(t.idx)?Number.MAX_VALUE:t.idx,v=this._raw[s],w=isNaN(v.idx)?Number.MAX_VALUE:v.idx;return u-w;}).bind(this);p.sort(q);};n.prototype.matchResults=function(o){'use strict';var p=this.normalize(o);j.prototype.matchResults.call(this,p);};n.prototype.createNode=function(o){'use strict';return h.createNode(o,this.getShowSecondaryAction());};k(n,{transformer:function(o){return {name:o.text,uri:o.path,id:o.uid,photo:o.photo,display:o.display||o.text,action:o.action,paths:o.paths,permissions:o.permissions,type:o.type,openinnewtab:o.openinnewtab,subtext:o.subtext,bootstrap:o.bootstrap,verified:o.verified,nativethirdpartyappicon:o.nativethirdpartyappicon};},packagedResults:null,showSecondaryAction:true});f.exports=n;},null);
__d('InitMSearchTypeahead',['$','DOM','DataStore','MSearchTypeahead','MSearchTypeaheadLogger','MSearchTypeaheadPerfLogger','MTypeaheadNativeSource','MTypeaheadNullstateSource','MTypeaheadOnDemandSource','MTypeaheadPackagedSource','MTypeaheadTouchSource','Stratcom','TypeaheadCompositeSource','SearchMTouchGlobalOptions','FWLoader'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=c('FWLoader').FW,w,x,y,z=function(aa){if(w)return;w=true;x=h(aa.id);var ba=h(aa.textinput);if(ba.tagName.toLowerCase()!=='input')ba=i.find(ba,'input');y=new k(x,ba,{photoSize:aa.photoSize,reportProblemURI:aa.reportProblemURI});if(aa.mSideNavMarauderLogger)aa.mSideNavMarauderLogger.setupTypeaheadListener(y);var ca,da=[];if(aa.sources.packagedSource){ca=new q(aa.sources.packagedSource.packagedresults);ca.setShowSecondaryAction(aa.showSecondaryAction);da.push(ca);}if(aa.sources.nativeSource){ca=new n();ca.setShowSecondaryAction(aa.showSecondaryAction);da.push(ca);}if(aa.sources.bootstrapped){ca=new r(aa.sources.bootstrapped.src,aa.sources.bootstrapped.source_key);ca.setShowSecondaryAction(aa.showSecondaryAction);da.push(ca);}if(aa.sources.nullstate){ca=new o(aa.sources.nullstate.src);ca.setMaximumResultCount(aa.sources.nullstate.max_results);da.push(ca);}if(aa.sources.online){ca=new p(aa.sources.online.src);if(aa.sources.online.max_results)ca.setMaximumResultCount(aa.sources.online.max_results);ca.setEnableImmediateReturnOfCachedResults(aa.sources.online.enable_caching);if(u.enableQueryThrottle)ca.setThrottleSendRequest(u.queryThrottleTime);ca.setMaxResults(u.maxResults);ca.setEnableEagerSendRequest(u.enableEagerSendRequest);ca.setQueryDelay(u.queryWaitTime);ca.setShowSecondaryAction(aa.showSecondaryAction);da.push(ca);if(aa.sources.online.useLocation)y.addLocationAwareSource(ca);}var ea=new t(da);ea.disableEmptyMergeKey();y.setDatasource(ea);y.setPermanent(aa.permanent);if(aa.showPresence)y.showPresence=true;if(aa.typeaheadScubaInfo)new m(y,aa.typeaheadScubaInfo,aa.sources.online.enable_caching);var fa='/search/metrics.php',ga=new l(y,fa);s.listen('log-m-search-session-end',null,function(ha){ga.blur(ha.getData().reason);});j.get(x).typeahead=y;s.listen('m-search-typeahead-change',null,function(ha){if(ha.getData().query!=y.getValue()){y.setValue(ha.getData().query);y.refresh();}});i.listen(x,'click','typeahead-result',function(){ba.blur();});s.listen('m:search-typeahead:clear',null,function(ha){y.setValue('');y.refresh();});s.invoke('m:search-typeahead:ready');y.start();if(ba.value!=='')y.refresh();if(window.FW_ENABLED)v.ubersearchReady();};g.main=z;},null);