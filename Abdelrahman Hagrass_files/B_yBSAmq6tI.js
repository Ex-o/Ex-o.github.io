/*!CK:1586977714!*//*1447774442,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["6XJ5u"]); }

__d("MComposerDataStoreKeys",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT"};},null,{});
__d("MComposerSigils",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"};},null,{});
__d("MComposerTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"};},null,{});
__d("ViewerLocationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AURA:"aura",GET_PARAM:"get_param",INTERN_TOOL:"intern_tool",LAST_LOCATION:"last_location",PLACEBOOK:"placebook",PLACES_FQL:"places_fql",PULSAR:"pulsar",TEST:"test",MSITE_LOCATION_PROMPT:"msite_location_prompt",MSITE_PLACES:"msite_places",MSITE_UNKNOWN:"msite_unknown",CORE_GQL_MUTATION:"core_graphql_mutation",MULTIFEED_PARAM:"multifeed_param"};},null,{});
__d("MFirefoxAppDetect",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){if(!navigator.mozApps){j();return;}if(window.locationbar&&!window.locationbar.visible){i();return;}if(navigator.mozApps.getSelf){var k=navigator.mozApps.getSelf();k.onsuccess=function(){k.result?i():j();};k.onerror=j;}else j();}g.isFirefoxApp=h;},null);
__d('MPageHeaderLeft',['$','DOM','MFirefoxAppDetect'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={};function l(n){if(!k.back_button){var o=h('page');k.back_button=i.find(o,'a','back-button');k.menu_button=i.find(o,'a','menu-link');}if(n.show_back_button){i.hide(k.menu_button);i.show(k.back_button);}else{i.hide(k.back_button);i.show(k.menu_button);}}var m=function(n){var o=window.navigator;if(o.standalone||k.isMozApp){l(n);}else if(k.isMozApp===undefined){k.lastConfig=n;j.isFirefoxApp(function p(){k.isMozApp=true;if(n===k.lastConfig){m(n);delete k.lastConfig;}},function p(){k.isMozApp=false;});}};g.main=m;},null);
__d('MPageHeaderRight',['DOM','Stratcom'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){return h.scry(document.body,'*','mChromeHeaderRight')[0];}g.setup=function(k){if(k){var l=j();if(l){h.setContent(l,k.node||'');i.listen('m:page:unload',null,function(event){i.removeCurrentListener();h.setContent(l,'');});}}};g.getChromeHeaderRightContent=function(){var k=j();return k?Array.prototype.slice.call(k.childNodes):null;};},null);
__d('MComposerPresence',['DataStore','DOM','EventEmitter','$','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='REGISTERED',n=null,o=new j(),p={addRegistrationListener:function(q){return o.addListener(m,q);},hasRegisteredInstance:function(){return !!n;},hasLoadedPrivacyValue:function(q){if(!this.hasRegisteredInstance())return false;return i.scry(i.find(k('static_templates'),'div','composer-main-view'),'tr','privacy-option').some(function(r){return h.get(r).value===q;});},register:function(q){!!n?l(0):undefined;n=q;o.emit(m);},unregister:function(q){!(n===q)?l(0):undefined;n=null;}};f.exports=p;},null);
__d('Set',['Map','enumerate','_shouldPolyfillES6Collection'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();f.exports=(function(k,l){if(!j('Set'))return k.Set;function m(o){'use strict';if(this==null||typeof this!=='object'&&typeof this!=='function')throw new TypeError('Wrong set object type.');n(this);if(o!=null){var p=i(o),q=l;while(!(q=p.next()).done)this.add(q.value);}}m.prototype.add=function(o){'use strict';this._map.set(o,o);this.size=this._map.size;return this;};m.prototype.clear=function(){'use strict';n(this);};m.prototype['delete']=function(o){'use strict';var p=this._map['delete'](o);this.size=this._map.size;return p;};m.prototype.entries=function(){'use strict';return this._map.entries();};m.prototype.forEach=function(o){'use strict';var p=arguments[1],q=this._map.keys(),r=l;while(!(r=q.next()).done)o.call(p,r.value,r.value,this);};m.prototype.has=function(o){'use strict';return this._map.has(o);};m.prototype.values=function(){'use strict';return this._map.values();};m.prototype.keys=function(){'use strict';return this.values();};m.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this.values();};function n(o){o._map=new h();o.size=o._map.size;}return m;})(Function('return this')());},null);
__d('XControllerURIBuilder',['URI','invariant','Set'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){'use strict';this.$XControllerURIBuilder1=l;this.$XControllerURIBuilder2=m;this.$XControllerURIBuilder3={};}k.prototype.setInt=function(l,m){'use strict';return this.__setParam(l,'Int',m);};k.prototype.setFBID=function(l,m){'use strict';return this.__setParam(l,'FBID',m);};k.prototype.setFloat=function(l,m){'use strict';return this.__setParam(l,'Float',m);};k.prototype.setString=function(l,m){'use strict';return this.__setParam(l,'String',m);};k.prototype.setExists=function(l,m){'use strict';if(m===false)m=undefined;return this.__setParam(l,'Exists',m);};k.prototype.setBool=function(l,m){'use strict';return this.__setParam(l,'Bool',m);};k.prototype.setEnum=function(l,m){'use strict';return this.__setParam(l,'Enum',m);};k.prototype.setIntVector=function(l,m){'use strict';return this.__setParam(l,'IntVector',m);};k.prototype.setIntSet=function(l,m){'use strict';return this.__setParam(l,'IntSet',m.join(','));};k.prototype.setFloatVector=function(l,m){'use strict';return this.__setParam(l,'FloatVector',m);};k.prototype.setFloatSet=function(l,m){'use strict';return this.__setParam(l,'FloatSet',m.join(','));};k.prototype.setStringVector=function(l,m){'use strict';return this.__setParam(l,'StringVector',m);};k.prototype.setStringSet=function(l,m){'use strict';return this.__setParam(l,'StringSet',m);};k.prototype.setFBIDVector=function(l,m){'use strict';return this.__setParam(l,'FBIDVector',m);};k.prototype.setFBIDSet=function(l,m){'use strict';return this.__setParam(l,'FBIDSet',m);};k.prototype.setEnumVector=function(l,m){'use strict';return this.__setParam(l,'EnumVector',m);};k.prototype.setEnumSet=function(l,m){'use strict';return this.__setParam(l,'EnumSet',m);};k.prototype.setIntToIntMap=function(l,m){'use strict';return this.__setParam(l,'IntToIntMap',m);};k.prototype.setIntToFloatMap=function(l,m){'use strict';return this.__setParam(l,'IntToFloatMap',m);};k.prototype.setIntToStringMap=function(l,m){'use strict';return this.__setParam(l,'IntToStringMap',m);};k.prototype.setIntToBoolMap=function(l,m){'use strict';return this.__setParam(l,'IntToBoolMap',m);};k.prototype.setStringToIntMap=function(l,m){'use strict';return this.__setParam(l,'StringToIntMap',m);};k.prototype.setStringToFloatMap=function(l,m){'use strict';return this.__setParam(l,'StringToFloatMap',m);};k.prototype.setStringToStringMap=function(l,m){'use strict';return this.__setParam(l,'StringToStringMap',m);};k.prototype.setStringToBoolMap=function(l,m){'use strict';return this.__setParam(l,'StringToBoolMap',m);};k.prototype.setHackType=function(l,m){'use strict';return this.__setParam(l,'HackType',m);};k.prototype.__validateRequiredParamsExistence=function(){'use strict';for(var l in this.$XControllerURIBuilder2)!(!this.$XControllerURIBuilder2[l].required||this.$XControllerURIBuilder3.hasOwnProperty(l))?i(0):undefined;};k.prototype.__setParam=function(l,m,n){'use strict';!(l in this.$XControllerURIBuilder2)?i(0):undefined;var o=this.$XControllerURIBuilder2[l].type;!(o===m)?i(0):undefined;this.__setParamInt(l,n);return this;};k.prototype.__setParamInt=function(l,m){'use strict';this.$XControllerURIBuilder3[l]=m;};k.prototype.getURI=function(){'use strict';this.__validateRequiredParamsExistence();var l={},m='',n=/^\{(\?)?(\*)?(.+?)\}$/,o=this.$XControllerURIBuilder1.split('/'),p=false;for(var q=0;q<o.length;q++){var r=o[q];if(r==='')continue;var s=n.exec(r);if(!s){m+='/'+r;}else{var t=s[1]==='?',u=s[3],v=this.$XControllerURIBuilder2[u];!v?i(0):undefined;if(t&&p)continue;var w=this.$XControllerURIBuilder3[u];if(w==null&&t){p=true;continue;}!(w!=null)?i(0):undefined;m+='/'+w;l[u]=true;}}if(this.$XControllerURIBuilder1.slice(-1)==='/')m+='/';if(m==='')m='/';var x=new h(m);for(v in this.$XControllerURIBuilder3){w=this.$XControllerURIBuilder3[v];if(!l[v]&&w!=null){var y=this.$XControllerURIBuilder2[v];x.addQueryData(v,y&&y.type==='Exists'?null:w);}}return x;};k.create=function(l,m){return k.bind(null,l,m);};f.exports=k;},null);
__d('XRequest',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(k,l,m){var n;switch(k){case 'Bool':n=l&&(l!=='false'&&l!=='0')||false;break;case 'Int':n=parseInt(l,10);!!isNaN(n)?h(0):undefined;break;case 'Float':n=parseFloat(l,10);!!isNaN(n)?h(0):undefined;break;case 'String':n=l.toString();break;case 'Enum':if(m===0){n=i('Int',l,null);}else if(m===1){n=i('String',l,null);}else if(m===2){n=l;}else h(0);break;default:var o,p,q,r;if(o=/^Nullable(\w+)$/.exec(k)){if(l===null){n=null;}else n=i(o[1],l,m);}else if(p=/^(\w+)Vector$/.exec(k)){if(!Array.isArray(l)){n=l.toString();n=n===''?[]:n.split(',');}else n=l;var s=p[1];!(typeof s==='string')?h(0):undefined;n=n.map(function(v){return i(s,v,m&&m.member);});}else if(q=/^(\w+)Set$/.exec(k)){if(!Array.isArray(l)){n=l.toString();n=n===''?[]:n.split(',');}else n=l;n=n.reduce(function(v,w){v[w]=w;return v;},{});s=q[1];!(typeof s==='string')?h(0):undefined;n=Object.keys(n).map(function(v){return i(s,n[v],m&&m.member);});}else if(r=/^(\w+)To(\w+)Map$/.exec(k)){n={};var t=r[1],u=r[2];!(typeof t==='string'&&typeof u==='string')?h(0):undefined;Object.keys(l).forEach(function(v){n[i(t,v,m&&m.key)]=i(u,l[v],m&&m.value);});}else h(0);}return n;};function j(k,l,m){'use strict';this.$XRequest1=l;this.$XRequest2=babelHelpers._extends({},m.getQueryData());var n=k.split("/").filter(function(t){return t;}),o=m.getPath().split("/").filter(function(t){return t;});for(var p=0;p<n.length;++p){var q=/^\{(\?)?(\w+)\}$/.exec(n[p]);if(!q){!(n[p]===o[p])?h(0):undefined;continue;}var r=!!q[1],s=q[2];!this.$XRequest1.hasOwnProperty(s)?h(0):undefined;if(this.$XRequest1[s].required){!!r?h(0):undefined;this.$XRequest2[s]=o[p];}else{!r?h(0):undefined;if(o[p])this.$XRequest2[s]=o[p];}}Object.keys(this.$XRequest1).forEach(function(t){!(!this.$XRequest1[t].required||this.$XRequest2.hasOwnProperty(t))?h(0):undefined;},this);}j.prototype.getExists=function(k){'use strict';return this.$XRequest2[k]!==undefined;};j.prototype.getBool=function(k){'use strict';return this.$XRequest3(k,'Bool');};j.prototype.getInt=function(k){'use strict';return this.$XRequest3(k,'Int');};j.prototype.getFloat=function(k){'use strict';return this.$XRequest3(k,'Float');};j.prototype.getString=function(k){'use strict';return this.$XRequest3(k,'String');};j.prototype.getEnum=function(k){'use strict';return this.$XRequest3(k,'Enum');};j.prototype.getOptionalInt=function(k){'use strict';return this.$XRequest4(k,'Int');};j.prototype.getOptionalFloat=function(k){'use strict';return this.$XRequest4(k,'Float');};j.prototype.getOptionalString=function(k){'use strict';return this.$XRequest4(k,'String');};j.prototype.getOptionalEnum=function(k){'use strict';return this.$XRequest4(k,'Enum');};j.prototype.getIntVector=function(k){'use strict';return this.$XRequest3(k,'IntVector');};j.prototype.getFloatVector=function(k){'use strict';return this.$XRequest3(k,'FloatVector');};j.prototype.getStringVector=function(k){'use strict';return this.$XRequest3(k,'StringVector');};j.prototype.getEnumVector=function(k){'use strict';return this.$XRequest3(k,'EnumVector');};j.prototype.getOptionalIntVector=function(k){'use strict';return this.$XRequest4(k,'IntVector');};j.prototype.getOptionalFloatVector=function(k){'use strict';return this.$XRequest4(k,'FloatVector');};j.prototype.getOptionalStringVector=function(k){'use strict';return this.$XRequest4(k,'StringVector');};j.prototype.getOptionalEnumVector=function(k){'use strict';return this.$XRequest4(k,'EnumVector');};j.prototype.getIntSet=function(k){'use strict';return this.$XRequest3(k,'IntSet');};j.prototype.getStringSet=function(k){'use strict';return this.$XRequest3(k,'StringSet');};j.prototype.getOptionalIntSet=function(k){'use strict';return this.$XRequest4(k,'IntSet');};j.prototype.getOptionalStringSet=function(k){'use strict';return this.$XRequest4(k,'StringSet');};j.prototype.getEnumToBoolMap=function(k){'use strict';return this.$XRequest3(k,'EnumToBoolMap');};j.prototype.getEnumToEnumMap=function(k){'use strict';return this.$XRequest3(k,'EnumToEnumMap');};j.prototype.getEnumToFloatMap=function(k){'use strict';return this.$XRequest3(k,'EnumToFloatMap');};j.prototype.getEnumToIntMap=function(k){'use strict';return this.$XRequest3(k,'EnumToIntMap');};j.prototype.getEnumToStringMap=function(k){'use strict';return this.$XRequest3(k,'EnumToStringMap');};j.prototype.getIntToBoolMap=function(k){'use strict';return this.$XRequest3(k,'IntToBoolMap');};j.prototype.getIntToEnumMap=function(k){'use strict';return this.$XRequest3(k,'IntToEnumMap');};j.prototype.getIntToFloatMap=function(k){'use strict';return this.$XRequest3(k,'IntToFloatMap');};j.prototype.getIntToIntMap=function(k){'use strict';return this.$XRequest3(k,'IntToIntMap');};j.prototype.getIntToStringMap=function(k){'use strict';return this.$XRequest3(k,'IntToStringMap');};j.prototype.getStringToBoolMap=function(k){'use strict';return this.$XRequest3(k,'StringToBoolMap');};j.prototype.getStringToEnumMap=function(k){'use strict';return this.$XRequest3(k,'StringToEnumMap');};j.prototype.getStringToFloatMap=function(k){'use strict';return this.$XRequest3(k,'StringToFloatMap');};j.prototype.getStringToIntMap=function(k){'use strict';return this.$XRequest3(k,'StringToIntMap');};j.prototype.getStringToStringMap=function(k){'use strict';return this.$XRequest3(k,'StringToStringMap');};j.prototype.getOptionalEnumToBoolMap=function(k){'use strict';return this.$XRequest4(k,'EnumToBoolMap');};j.prototype.getOptionalEnumToEnumMap=function(k){'use strict';return this.$XRequest4(k,'EnumToEnumMap');};j.prototype.getOptionalEnumToFloatMap=function(k){'use strict';return this.$XRequest4(k,'EnumToFloatMap');};j.prototype.getOptionalEnumToIntMap=function(k){'use strict';return this.$XRequest4(k,'EnumToIntMap');};j.prototype.getOptionalEnumToStringMap=function(k){'use strict';return this.$XRequest4(k,'EnumToStringMap');};j.prototype.getOptionalIntToBoolMap=function(k){'use strict';return this.$XRequest4(k,'IntToBoolMap');};j.prototype.getOptionalIntToEnumMap=function(k){'use strict';return this.$XRequest4(k,'IntToEnumMap');};j.prototype.getOptionalIntToFloatMap=function(k){'use strict';return this.$XRequest4(k,'IntToFloatMap');};j.prototype.getOptionalIntToIntMap=function(k){'use strict';return this.$XRequest4(k,'IntToIntMap');};j.prototype.getOptionalIntToStringMap=function(k){'use strict';return this.$XRequest4(k,'IntToStringMap');};j.prototype.getOptionalStringToBoolMap=function(k){'use strict';return this.$XRequest4(k,'StringToBoolMap');};j.prototype.getOptionalStringToEnumMap=function(k){'use strict';return this.$XRequest4(k,'StringToEnumMap');};j.prototype.getOptionalStringToFloatMap=function(k){'use strict';return this.$XRequest4(k,'StringToFloatMap');};j.prototype.getOptionalStringToIntMap=function(k){'use strict';return this.$XRequest4(k,'StringToIntMap');};j.prototype.getOptionalStringToStringMap=function(k){'use strict';return this.$XRequest4(k,'StringToStringMap');};j.prototype.getEnumToNullableEnumMap=function(k){'use strict';return this.$XRequest3(k,'EnumToNullableEnumMap');};j.prototype.getEnumToNullableFloatMap=function(k){'use strict';return this.$XRequest3(k,'EnumToNullableFloatMap');};j.prototype.getEnumToNullableIntMap=function(k){'use strict';return this.$XRequest3(k,'EnumToNullableIntMap');};j.prototype.getEnumToNullableStringMap=function(k){'use strict';return this.$XRequest3(k,'EnumToNullableStringMap');};j.prototype.getIntToNullableEnumMap=function(k){'use strict';return this.$XRequest3(k,'IntToNullableEnumMap');};j.prototype.getIntToNullableFloatMap=function(k){'use strict';return this.$XRequest3(k,'IntToNullableFloatMap');};j.prototype.getIntToNullableIntMap=function(k){'use strict';return this.$XRequest3(k,'IntToNullableIntMap');};j.prototype.getIntToNullableStringMap=function(k){'use strict';return this.$XRequest3(k,'IntToNullableStringMap');};j.prototype.getStringToNullableEnumMap=function(k){'use strict';return this.$XRequest3(k,'StringToNullableEnumMap');};j.prototype.getStringToNullableFloatMap=function(k){'use strict';return this.$XRequest3(k,'StringToNullableFloatMap');};j.prototype.getStringToNullableIntMap=function(k){'use strict';return this.$XRequest3(k,'StringToNullableIntMap');};j.prototype.getStringToNullableStringMap=function(k){'use strict';return this.$XRequest3(k,'StringToNullableStringMap');};j.prototype.getOptionalEnumToNullableEnumMap=function(k){'use strict';return this.$XRequest4(k,'EnumToNullableEnumMap');};j.prototype.getOptionalEnumToNullableFloatMap=function(k){'use strict';return this.$XRequest4(k,'EnumToNullableFloatMap');};j.prototype.getOptionalEnumToNullableIntMap=function(k){'use strict';return this.$XRequest4(k,'EnumToNullableIntMap');};j.prototype.getOptionalEnumToNullableStringMap=function(k){'use strict';return this.$XRequest4(k,'EnumToNullableStringMap');};j.prototype.getOptionalIntToNullableEnumMap=function(k){'use strict';return this.$XRequest4(k,'IntToNullableEnumMap');};j.prototype.getOptionalIntToNullableFloatMap=function(k){'use strict';return this.$XRequest4(k,'IntToNullableFloatMap');};j.prototype.getOptionalIntToNullableIntMap=function(k){'use strict';return this.$XRequest4(k,'IntToNullableIntMap');};j.prototype.getOptionalIntToNullableStringMap=function(k){'use strict';return this.$XRequest4(k,'IntToNullableStringMap');};j.prototype.getOptionalStringToNullableEnumMap=function(k){'use strict';return this.$XRequest4(k,'StringToNullableEnumMap');};j.prototype.getOptionalStringToNullableFloatMap=function(k){'use strict';return this.$XRequest4(k,'StringToNullableFloatMap');};j.prototype.getOptionalStringToNullableIntMap=function(k){'use strict';return this.$XRequest4(k,'StringToNullableIntMap');};j.prototype.getOptionalStringToNullableStringMap=function(k){'use strict';return this.$XRequest4(k,'StringToNullableStringMap');};j.prototype.$XRequest3=function(k,l){'use strict';this.$XRequest5(k,l);var m=this.$XRequest1[k];if(!this.$XRequest2.hasOwnProperty(k)&&m.defaultValue){!!m.required?h(0):undefined;return i(l,m.defaultValue,m.enumType);}!(m.required||l==='Bool'||m.defaultValue!=null)?h(0):undefined;return i(l,this.$XRequest2[k],m.enumType);};j.prototype.$XRequest4=function(k,l){'use strict';this.$XRequest5(k,l);var m=this.$XRequest1[k];!!m.required?h(0):undefined;!!m.defaultValue?h(0):undefined;if(this.$XRequest2.hasOwnProperty(k))return i(l,this.$XRequest2[k],m.enumType);return null;};j.prototype.$XRequest5=function(k,l){'use strict';!this.$XRequest1.hasOwnProperty(k)?h(0):undefined;!(this.$XRequest1[k].type===l)?h(0):undefined;};f.exports=j;},null);
__d('XController',['XControllerURIBuilder','XRequest'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){'use strict';this.$XController1=k;this.$XController2=l;}j.prototype.getURIBuilder=function(k){'use strict';var l=new h(this.$XController1,this.$XController2);if(k){var m=this.getRequest(k);Object.keys(this.$XController2).forEach(function(n){var o=this.$XController2[n],p='';if(!o.required&&!o.hasOwnProperty('defaultValue'))p='Optional';var q='get'+p+o.type,r=m[q](n);if(r==null||o.hasOwnProperty('defaultValue')&&r===o.defaultValue)return;var s='set'+o.type;l[s](n,r);},this);}return l;};j.prototype.getRequest=function(k){'use strict';return new i(this.$XController1,this.$XController2,k);};j.create=function(k,l){'use strict';return new j(k,l);};f.exports=j;},null);
__d("XComposerAsyncLoaderController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/async_loader\/",{targetid:{type:"Int"}});},null,{});
__d('promiseFinally',['Promise'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){return j.then(function(l){return (h.resolve(k()).then(function(){return l;}));},function(l){return (h.resolve(k()).then(function(){throw l;}));});}f.exports=i;},null);
__d('MComposerAsyncLoadRequest',['MComposerPresence','MRequest','Promise','XComposerAsyncLoaderController','promiseFinally'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(){'use strict';this.$MComposerAsyncLoadRequest1=null;this.$MComposerAsyncLoadRequest2=null;this.$MComposerAsyncLoadRequest3=null;}m.prototype.$MComposerAsyncLoadRequest4=function(){'use strict';if(this.$MComposerAsyncLoadRequest1){this.$MComposerAsyncLoadRequest1.remove();this.$MComposerAsyncLoadRequest1=null;}if(this.$MComposerAsyncLoadRequest3){this.$MComposerAsyncLoadRequest3.abort();this.$MComposerAsyncLoadRequest3=null;}};m.prototype.$MComposerAsyncLoadRequest5=function(){'use strict';return new j((function(n,o){this.$MComposerAsyncLoadRequest1=h.addRegistrationListener(n);this.$MComposerAsyncLoadRequest3=new i(k.getURIBuilder().getURI());this.$MComposerAsyncLoadRequest3.listen('fail',o);this.$MComposerAsyncLoadRequest3.send();}).bind(this));};m.prototype.send=function(){'use strict';if(!this.$MComposerAsyncLoadRequest2){this.$MComposerAsyncLoadRequest2=this.$MComposerAsyncLoadRequest5();l(this.$MComposerAsyncLoadRequest2,(function(){return this.$MComposerAsyncLoadRequest4();}).bind(this));}return this.$MComposerAsyncLoadRequest2;};f.exports=m;},null);
__d('MComposerEntry',['DataStore','ErrorUtils','LoadingIndicator','MComposerAsyncLoadRequest','MComposerDataStoreKeys','MComposerPresence','MComposerSigils','MComposition','Promise','Stratcom','promiseFinally'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=new p(function(ca,da){return da();}),t=new p(function(ca){return ca();}),u=i.guard(function(ca){if(ca)throw ca;},'MComposerEntry');function v(event){if(aa)return;ba.invoke(new o(h.get(event.getNode(n.ENTRY_TRIGGER))[l.COMPOSITION]));}function w(ca){aa=true;var da=null;if(m.hasRegisteredInstance()){da=z(ca);}else da=y(ca).then(function(){return z(ca);},u);r(da,function(){return aa=false;});return da;}function x(){if(m.hasRegisteredInstance())return t;return new k().send();}function y(ca){j.show();var da=x(ca);r(da,function(){return j.hide();});return da;}function z(ca){return new p(function(da,ea){var fa={};fa[l.COMPOSITION]=ca.serialize();fa[l.ON_CANCEL]=ea;fa[l.ON_SUBMIT]=da;q.invoke('MComposer:entry:js',null,fa);});}var aa=false;q.listen('click',n.ENTRY_TRIGGER,v);q.listen('m:page:unload',null,function(){aa=false;});var ba={invoke:function(ca){if(aa)return s;return w(ca||new o());}};f.exports=ba;},null);
__d('BehaviorsMixin',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(l){'use strict';this.$InstalledBehavior1=l;this.$InstalledBehavior2=false;}h.prototype.enable=function(){'use strict';if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable();}};h.prototype.disable=function(){'use strict';if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable();}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID;}var k={enableBehavior:function(l){if(!this._behaviors)this._behaviors={};var m=j(l);if(!this._behaviors[m])this._behaviors[m]=new h(new l(this));this._behaviors[m].enable();return this;},disableBehavior:function(l){if(this._behaviors){var m=j(l);if(this._behaviors[m])this._behaviors[m].disable();}return this;},enableBehaviors:function(l){l.forEach(this.enableBehavior,this);return this;},destroyBehaviors:function(){if(this._behaviors){for(var l in this._behaviors)this._behaviors[l].disable();this._behaviors={};}},hasBehavior:function(l){return this._behaviors&&j(l) in this._behaviors;}};f.exports=k;},null);
__d('StrSet',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$StrSet1={};this.$StrSet2=0;if(i)this.addAll(i);}h.prototype.add=function(i){'use strict';if(!this.$StrSet1.hasOwnProperty(i)){this.$StrSet1[i]=true;this.$StrSet2++;}return this;};h.prototype.addAll=function(i){'use strict';i.forEach(this.add,this);return this;};h.prototype.remove=function(i){'use strict';if(this.$StrSet1.hasOwnProperty(i)){delete this.$StrSet1[i];this.$StrSet2--;}return this;};h.prototype.removeAll=function(i){'use strict';i.forEach(this.remove,this);return this;};h.prototype.toArray=function(){'use strict';return Object.keys(this.$StrSet1);};h.prototype.toMap=function(i){'use strict';var j={};Object.keys(this.$StrSet1).forEach(function(k){j[k]=typeof i=='function'?i(k):i||true;});return j;};h.prototype.contains=function(i){'use strict';return this.$StrSet1.hasOwnProperty(i);};h.prototype.count=function(){'use strict';return this.$StrSet2;};h.prototype.clear=function(){'use strict';this.$StrSet1={};this.$StrSet2=0;return this;};h.prototype.clone=function(){'use strict';return new h(this);};h.prototype.forEach=function(i,j){'use strict';Object.keys(this.$StrSet1).forEach(i,j);};h.prototype.map=function(i,j){'use strict';return Object.keys(this.$StrSet1).map(i,j);};h.prototype.some=function(i,j){'use strict';return Object.keys(this.$StrSet1).some(i,j);};h.prototype.every=function(i,j){'use strict';return Object.keys(this.$StrSet1).every(i,j);};h.prototype.filter=function(i,j){'use strict';return new h(Object.keys(this.$StrSet1).filter(i,j));};h.prototype.union=function(i){'use strict';return this.clone().addAll(i);};h.prototype.intersect=function(i){'use strict';return this.filter(function(j){return i.contains(j);});};h.prototype.difference=function(i){'use strict';return i.filter((function(j){return !this.contains(j);}).bind(this));};h.prototype.equals=function(i){'use strict';var j=function(n,o){return n===o?0:n<o?-1:1;},k=this.toArray(),l=i.toArray();if(k.length!==l.length)return false;var m=k.length;k=k.sort(j);l=l.sort(j);while(m--)if(k[m]!==l[m])return false;return true;};f.exports=h;},null);
__d('Parent',['CSSCore'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={byTag:function(j,k){k=k.toUpperCase();while(j&&j.nodeName!==k)j=j.parentNode;return j;},byClass:function(j,k){while(j&&!h.hasClass(j,k))j=j.parentNode;return j;},byAttribute:function(j,k){while(j&&(!j.getAttribute||!j.getAttribute(k)))j=j.parentNode;return j;}};f.exports=i;},null);
__d("flattenArray",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){var k=[];i(j,k);return k;}function i(j,k){var l=j.length,m=0;while(l--){var n=j[m++];if(Array.isArray(n)){i(n,k);}else k.push(n);}}f.exports=h;},null);
__d('mixin',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m,n,o,p,q,r,s){var t=function(){},u=[i,j,k,l,m,n,o,p,q,r],v=0,w;while(u[v]){w=u[v];for(var x in w)if(w.hasOwnProperty(x))t.prototype[x]=w[x];v+=1;}return t;}f.exports=h;},null);
__d('Image.react',['React','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;function l(n,o,p){var q=n[o];if(typeof q==='string')return;if(q&&typeof q==='object'){if(q.sprited&&q.spriteMapCssClass&&q.spriteCssClass)return;if(!q.sprited&&q.uri)return;}return new Error('Provided `'+o+'` to `'+p+'`. Must be a string '+'or `ix` call.');}j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=i(this.props.className,'img'),o=this.props.src,p=null;if(this.props.alt&&typeof o!=='string'&&o.sprited)p=h.createElement('u',null,this.props.alt);if(typeof o==='string')return h.createElement('img',babelHelpers._extends({},this.props,{className:n}),p);if(o.sprited){n=i(n,o.spriteMapCssClass,o.spriteCssClass);return h.createElement('i',babelHelpers._extends({},this.props,{className:n,src:null}),p);}if(this.props.width===undefined&&this.props.height===undefined)return (h.createElement('img',babelHelpers._extends({},this.props,{className:n,width:o.width,height:o.height,src:o.uri}),p));return (h.createElement('img',babelHelpers._extends({},this.props,{className:n,src:o.uri}),p));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={src:l};m.validateImageSrcPropType=l;f.exports=m;},null);
__d('requireWeak',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){if(Object.prototype.toString.call(i)==='[object Array]'){if(i.length!==1)throw new Error('requireWeak only supports a one-arg array for push safety');i=i[0];}e.call(null,[i],j);}f.exports=h;},null);
__d('Locale',['Style','ExecutionEnvironment'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;function k(){if(!i.canUseDOM){j=false;}else if(j===undefined)j='rtl'===h.get(document.body,'direction');return j;}var l={isRTL:k};f.exports=l;},null);
__d('JSXDOM',['DOM','flattenArray'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=['a','blockquote','br','button','canvas','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],k={};j.forEach(function(l){var m=function(n,o){if(arguments.length>2)o=Array.prototype.slice.call(arguments,1);if(!o&&n){o=n.children;delete n.children;}if(o)o=Array.isArray(o)?i(o):i([o]);return h.create(l,n,o);};k[l]=m;});f.exports=k;},null);
__d('createIxElement',['DOM','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){var n='img',o;!(l.sprited||l.uri)?i(0):undefined;if(l.sprited){n=j(n,l.spriteMapCssClass,l.spriteCssClass);o=h.create('i',{className:n});if(m!=null)h.setContent(o,h.create('u',null,m));}else if(l.uri){o=h.create('img',{className:n,src:l.uri});if(m!=null)o.setAttribute('alt',m);if(l.width)o.setAttribute('width',l.width);if(l.height)o.setAttribute('height',l.height);}return o;}f.exports=k;},null);
__d('throttle',['setTimeout','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(l,m,n){return k(l,m,n,h,false);}Object.assign(j,{acrossTransitions:function(l,m,n){return k(l,m,n,i,false);},withBlocking:function(l,m,n){return k(l,m,n,h,true);},acrossTransitionsWithBlocking:function(l,m,n){return k(l,m,n,i,true);}});function k(l,m,n,o,p){var q=m==null?100:m,r,s,t=0,u=null,v=function(){t=Date.now();if(s){l.apply(r,s);s=null;u=o(v,q);}else u=null;};v.__SMmeta=l.__SMmeta;return function w(){s=arguments;r=this;if(n!==undefined)r=n;if(u===null||Date.now()-t>q)if(p){v();}else u=o(v,0);};}f.exports=j;},null);
__d('MFeedErrorDetection',['Banzai','ge'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(event,m,n,o){var p={event:event,shouldLogDetail:m,site:'mtouch'};if(m){p.intValues=n;p.normalValues=o;}h.post('feed_error_detection',p,{delay:0});}var l={registerFeedStories:function(m,n){var o=i(m);if(o==null)return;var p=o.childNodes;for(var q=0;q<p.length;q++){var r=p[q],s=r.childNodes[0],t=s.getAttribute('data-dedupekey'),u=r.getAttribute('data-ft');if(!t||!u)continue;if(t in j){var v={};if(n)v={dedupKey:t,ft_A:u,ft_B:j[t]};k('mtouch_duplicate_stories',n,{},{dup_field:v});}else j[t]=u;}}};f.exports=l;},null);
__d('MFriendingActionError',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={CONFIRM_INCOMING_REQUEST_ERROR:'confirm_incomming_request_error',DELETE_INCOMING_REQUEST_ERROR:'delete_incomming_request_error',SEND_OUTGOING_REQUEST_ERROR:'send_outgoing_request_error',CANCEL_OUTGOING_REQUEST_ERROR:'cancel_outgoing_request_error'};},null);
__d('AppRequestLogger',['MCache'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={setLastApp:function(j){var k=h.getItem('appEventList')||[];k.push({app_id:j,time:Math.round(Date.now()/1000),event_type:'request_accept'});h.setItem('appEventList',k);}};f.exports=i;},null);
__d('csx',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){throw new Error('csx: Unexpected class selector transformation.');}f.exports=h;},null);
__d('MViewportTracking',['AsyncSignal','setTimeoutAcrossTransitions','DOM','MViewport','Stratcom','Style','Vector','Visibility'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p='/feed/feed_tracking/vpv_waterfall_logging';q.prototype.init=function(r){'use strict';this.isLoose=!!r.is_loose;this.throttleNoDelay=!!r.throttle_no_delay;this.relaxedMinSize=!!r.relaxed_min_size;this.vpvDebug=!!r.vpv_debug;this.shouldWaterfallLogging=false;this.isTimeTrackingEnabled=false;this.getDataFromConfig(r);this.maxScrollPosition=0;this.minSizeToBeVisible=200;this.readStoryIDs={};this.waterfallLoggedStoryIDs={};this.fireEvent();this.$MViewportTracking1=[l.listen('m:page:unload',null,this.onUnload.bind(this))];if(r.triggerOverride){r.triggerOverride.forEach((function(s){var event=s[0],t=s[1];l.listen(event,t,this.$MViewportTracking2.bind(this));}).bind(this));}else this.$MViewportTracking1.push(l.listen('scroll',null,this.$MViewportTracking2.bind(this)));if(this.isTimeTrackingEnabled){this.$MViewportTracking1.push(o.addListener(o.VISIBLE,(function(){this.startRecordingTimeTrackingData();}).bind(this)));this.$MViewportTracking1.push(o.addListener(o.HIDDEN,(function(){this.stopRecordingTimeTrackingData();}).bind(this)));}};q.prototype.getMinSizeToBeVisible=function(r){'use strict';if(!this.relaxedMinSize)return this.minSizeToBeVisible;var s;if('getBoundingClientRect' in r){var t=r.getBoundingClientRect();s=t.height;}else s=n.getDim(r).y;return Math.min(this.minSizeToBeVisible,s*.5);};q.prototype.fireEvent=function(){'use strict';var r=this.getAllStoriesInView();for(var s=0;s<r.length;s++){var t=r[s],u=this.getStoryID(t);if(!u||u in this.readStoryIDs)continue;this.readStoryIDs[u]=true;this.sendDataToLog(this.getDataToLog(t));if(this.shouldWaterfallLogging)this.waterfallLogStep(t,'200_sent_to_Banzai');if(this.vpvDebug){var v=j.scry(t,'div')[0];if(v)m.set(v,'background-color','#fffbe2');}this.markStoryRead(t);}};q.prototype.markStoryRead=function(r){'use strict';};q.prototype.$MViewportTracking2=function(){'use strict';if(this.isLoose){if(!this.$MViewportTracking3)this.$MViewportTracking3=i((function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.$MViewportTracking3=null;this.maxScrollPosition=Math.max(this.maxScrollPosition,k.getScrollTop());if(!this.throttleNoDelay){clearTimeout(this.$MViewportTracking4);this.$MViewportTracking4=i((function(){this.fireEvent();}).bind(this),this.getTimeout());}else this.fireEvent();}).bind(this),100);}else{clearTimeout(this.$MViewportTracking4);this.$MViewportTracking4=i((function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.fireEvent();}).bind(this),this.getTimeout());}};q.prototype.waterfallLogStep=function(r,s){'use strict';var t=this.getStoryID(r);if(this.waterfallLoggedStoryIDs[s]&&this.waterfallLoggedStoryIDs[s][t])return;var u=this.getWaterfallData(r,s);new h(p,u).send();if(!this.waterfallLoggedStoryIDs[s])this.waterfallLoggedStoryIDs[s]={};this.waterfallLoggedStoryIDs[s][t]=true;};q.prototype.getTimetrackingDataToLog=function(r){'use strict';return {vpvd_start_timestamp:r.evp_ts/1000,vpvd_time_delta:Math.round(r.vpvd)};};q.prototype.recordTimeStoryWasInView=function(r){'use strict';if(this.isTimeTrackingEnabled&&r.vpvd>0)this.sendTimetrackingDataToLog(this.getTimetrackingDataToLog(r));};q.prototype.startRecordingTimeTrackingData=function(){'use strict';this.$MViewportTracking5(false);};q.prototype.stopRecordingTimeTrackingData=function(){'use strict';this.$MViewportTracking5(true);};q.prototype.$MViewportTracking5=function(r){'use strict';if(!this.activeStories)this.activeStories={};var s=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=s;var t=this.getAllStoriesInView();this.updateVPVDurations(s);this.updateActiveStories(t,s);this.recordVPVDurations(t,r);if(r){this.latestTimeTrackingTimestamp=0;}else this.latestTimeTrackingTimestamp=s;};q.prototype.updateVPVDurations=function(r){'use strict';if(r-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var s=r-this.latestTimeTrackingTimestamp;for(var t in this.activeStories)if(this.activeStories.hasOwnProperty(t))this.activeStories[t].vpvd+=s;};q.prototype.isVisible=function(r,s){'use strict';for(var t=0;t<s.length;t++)if(this.getStoryID(s[t])===r)return true;return false;};q.prototype.recordVPVDurations=function(r,s){'use strict';this.recordVPVDurationsInternal(r,s);};q.prototype.recordVPVDurationsInternal=function(r,s){'use strict';for(var t in this.activeStories)if(this.activeStories.hasOwnProperty(t))if(s||!this.isVisible(t,r)){this.recordTimeStoryWasInView(this.activeStories[t]);delete this.activeStories[t];}};q.prototype.updateActiveStories=function(r,s){'use strict';for(var t=0;t<r.length;t++){var u=this.getStoryID(r[t]);if(!(u in this.activeStories))this.activeStories[u]={evp_ts:s,story:r[t],vpvd:0};this.activeStories[u].ts=s;if(this.vpvdAnalysis){this.activeStories[u].visible_position=r[u].visible_position;this.activeStories[u].y=r[u].y;}}};q.prototype.getAllStoriesInView=function(){'use strict';var r=[],s=this.getAllStories(),t=k.getScrollTop(),u=k.getHeight(),v=this.isLoose,w=u+this.maxScrollPosition-t;for(var x=0;x<s.length;x++){var y=s[x],z,aa,ba;if('getBoundingClientRect' in y){z=y.getBoundingClientRect();aa=z.bottom;ba=z.top;}else{ba=n.getPos(y).y-t;aa=ba+n.getDim(y).y;}if(!ba&&!aa)continue;var ca=this.getMinSizeToBeVisible(y);if(!v&&ba>u-ca)break;if(!v&&ba<=u-ca&&aa>=ca||v&&ba<w)r.push(y);}return r;};q.prototype.cleanup=function(){'use strict';this.$MViewportTracking1.forEach(function(r){r.remove();});this.$MViewportTracking1=[];};q.prototype.onUnload=function(){'use strict';if(this.isTimeTrackingEnabled)this.stopRecordingTimeTrackingData();this.cleanup();};q.prototype.sendTimetrackingDataToLog=function(r){'use strict';this.sendDataToLog(r);};function q(){'use strict';}f.exports=q;},null);
__d("MPageTitle",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();g.setTitle=function(h){document.title=h;};},null);
__d("XPagesBanUserAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/admin\/ban_user\/",{page_id:{type:"Int",required:true},user_id:{type:"Int",required:true},post_id:{type:"Int"}});},null,{});
__d('MPagesBanUserUtils',['DataStore','Stratcom','MRequest','XPagesBanUserAsyncController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='ban_user_from_page_sigil',n=false;f.exports={init:function(){if(n)return;var o=i.listen('click',m,this._onBanUserFromPage),p=i.listen('m:page:unload',null,function(){p.remove();o.remove();});n=true;},_onBanUserFromPage:function(event){var o=event.getNode(m),p=h.get(o);if(!p.uri)return;this.sendBanFromPageRequest(p.uri,null,p.user_name);},sendBanFromPageRequest:function(o,p,q){var r=null;if(q){r=l._("Are you sure you want to ban {username}?",[l.param('username',q)]);}else r=l._("Are you sure you want to ban this user?");if(confirm(r)){var s=new j(o);s.listen('done',p);s.send();}},banUserFromPage:function(o,p,q){var r=k.getURIBuilder().setInt('page_id',o).setInt('user_id',p).getURI();this.sendBanFromPageRequest(r,null,q);}};},null);
__d('SaveState',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};f.exports=h;},null);
__d('SaveStateHandler',['SaveState'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=null;function j(){'use strict';this.$SaveStateHandler1={};this.$SaveStateHandler2={};}j.prototype.addListener=function(k,l){'use strict';if(!this.$SaveStateHandler1[k])this.$SaveStateHandler1[k]=[];this.$SaveStateHandler1[k].push(l);};j.prototype.setState=function(k,l){'use strict';k.forEach(function(m){this.$SaveStateHandler2[m]=l;if(!this.$SaveStateHandler1[m])return;var n=this.$SaveStateHandler1[m];n.forEach(function(o){try{o.call(window,l);}catch(p){}});},this);};j.prototype.getState=function(k){'use strict';return this.$SaveStateHandler2[k];};j.$SaveStateHandler3=function(){'use strict';if(!i)i=new j();return i;};j.listen=function(k,l){'use strict';this.$SaveStateHandler3().addListener(k,l);};j.getState=function(k){'use strict';return this.$SaveStateHandler3().getState(k);};j.saving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVING);};j.saved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVED);};j.unsaving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVING);};j.unsaved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVED);};j.isSaveAction=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.UNSAVED||l==h.UNSAVING;};j.isInTransition=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.SAVING||l==h.UNSAVING;};f.exports=j;},null);
__d('MAsyncPageLoadWithGraphSearch',['Stratcom','CSS','cx','csx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='graph-search-entry-point',m={pageLoad:function(n){h.invoke('setSearchText',l,{title:n.searchTitle||''});h.invoke('setCurrentProfileID',l,{profileID:n.currentProfileID||''});}};f.exports=m;},null);
__d("XStoryChevronController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/story_chevron_menu\/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:false},outer_story_token:{type:"String"}});},null,{});
__d('MAsyncChevronMenu',['$','cx','CSS','requireWeak','BanzaiODS','DataStore','DOM','MParent','MRequest','MTouchClick','Stratcom','SubscriptionsHandler','XStoryChevronController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=null;k('MHideStoryActions',function(ia){return u=ia;});function v(ia){var ja=o.bySigil(ia,'story-popup-metadata');return ja;}var w;function x(){l.bumpEntityKey('mtouch_async_chevron','chevron_clicked');var ia=this.getCausalElement(),ja=m.get(ia),ka=v(ia),la=t.getURIBuilder().setBool('is_menu_registered',!!(u&&u.getActionBubble())).getURI(),ma=new p(la);j.show(aa);j.hide(ba);j.hide(ca);w=ka;ma.setMethod('POST');ma.setData({feedobjects_identifiers:ja.feedobjectsIdentifiers,feed_context:ja.feedContext,zombie_story:ja.zombieStoryURI?ja.zombieStoryURI:'',story_topic_feedback:ja.storyTopicFeedbackURI?ja.storyTopicFeedbackURI:'',story_node_id:ka.id,chevron_button_id:ia.id,outer_story_token:ja.outerStoryToken?ja.outerStoryToken:''});ma.listen('error',function(na){l.bumpEntityKey('mtouch_async_chevron','request_failed');j.hide(aa);if(na=='status=0'){l.bumpEntityKey('mtouch_async_chevron','request_failed_no_internet_connection');j.show(ba);j.hide(ca);}else{l.bumpEntityKey('mtouch_async_chevron','request_failed_server_side_error');j.show(ca);j.hide(ba);}});ma.listen('done',function(){l.bumpEntityKey('mtouch_async_chevron','request_done');});ma.send();}var y,z,aa,ba,ca;function da(){if(z){z.release();z=null;}y=null;aa=null;ba=null;ca=null;}function ea(ia){if(y){y.destroy();da();}y=ia;var ja=ia.getContentRoot();aa=n.find(ja,'div','loadingWrapper');ba=n.find(ja,'div','noConnectionWrapper');ca=n.find(ja,'div','requestErrorWrapper');z=new s('StoryChevronMenu');z.addSubscriptions(y.addListener('beforeshow',x,y),r.listen('m:page:unload',null,da),r.listen('m:story:action-bubble-initialized',null,function(ka){var la=ka.getData();if(la.menuNubID)fa(h(la.menuNubID),la.wasOpen);}));}function fa(ia,ja){if(!y.isShown()&&!ja||!u||!u.getActionBubble())return;y.hide();var ka=v(ia);if(w==ka){var la=ia.getElementsByClassName("_4s19")[0];q.click(la);}}function ga(ia,ja){n.replace(h(ja),ia);fa(ia);}function ha(ia){if(!w||w.id==ia){y.hide();w=null;}}f.exports={init:ea,replaceChevronTrigger:ga,closeLoadingFlyout:ha};},null);
__d('MShareAngoraAttachment',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=false,j=function(k){if(i)return;i=true;window.addEventListener('error',function(event){if(event.target.nodeName=='IMG'){for(var l=event.target;l!=document.body&&!h.hasSigil(l,'shareAngoraAttachmentMedia');l=l.parentNode);if(l!=document.body)l.style.display='none';}},true);};g.registerDeadImageListener=j;},null);
__d('MComposer',['MMultiPhotoUploaderAttachmentState','ClientIDs','CSS','DOM','DataStore','MComposerConfig','MComposerLiveTypingController','MParent','MViewport','cancelAnimationFrame','cx','debounceCore','getActiveElement','requestAnimationFrame','setTimeoutAcrossTransitions','MCommentsStorage','Stratcom','StratcomManager','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba,ca;function da(){return !!m.PUBLISH_LIVE;}var ea=function(fa){this._typingEventController=null;this._prevTextareaValue=null;this._initTypingEventController=(function(){if(fa&&fa.target_id&&!this._typingEventController&&da())this._typingEventController=new n(fa.target_id,fa.parent_comment_id);}).bind(this);this._attemptPublishStartEvent=(function(){if(!da())return;this._initTypingEventController();this._typingEventController&&this._typingEventController.attemptPublishStartEvent();}).bind(this);this._attemptPublishStopEvent=(function(){if(!da())return;this._initTypingEventController();this._typingEventController&&this._typingEventController.attemptPublishStopEvent();}).bind(this);if(fa!==null&&fa.should_focus&&fa.composer_id)v(function(){z(fa.composer_id).focus();},0);x.invoke('marauder-fb-composer-init',null,{parent_fbid:fa?fa.target_id:-1});ba=fa.toggle_submit;if(aa)return;aa=true;function ga(na){if(na.tagName==='FORM'){return na;}else return k.find(na,'form');}x.listen('focus',['m-composer','textarea'],function(event){var na=event.getNode('m-composer'),oa=k.find(na,'*','textarea');if(fa.save_comment){var pa=k.scry(oa.parentNode,'div','js_placeholder');oa.value=w.getUnfinishedComment();if(oa.value){k.hide(pa[0]);la(event.getNode('m-composer'));}}ma(na);if(!l.get(na).disable_auto_scroll)p.scrollToNode(oa);});x.listen('focus',['m-composer','privacy-selector'],function(event){j.removeClass(event.getNode('m-composer'),'composerClosed');});var ha=s(function(event){var na=event.getNode('textarea');x.invoke('marauder-feedback-input',null,{draft:na.value});if(fa.save_comment)w.setUnfinishedComment(na.value);la(event.getNode('m-composer'));},250),ia=(function(event){var na=event.getNode('textarea').value,oa=this._prevTextareaValue;if(na!==oa)if(na&&na.trim().length){this._attemptPublishStartEvent();}else this._attemptPublishStopEvent();ha(event);this._prevTextareaValue=na;}).bind(this),ja=da()?ia:ha;x.listen('keyup',['m-composer','textarea'],ja);x.listen('input',['m-composer','textarea'],ja);x.listen('paste',['m-composer','textarea'],ja);var ka=h.getDefaultState();x.listen('MMultiPhotoUploader:attachments:change',null,function(event){var na=z(event.getData().input_id);if(!na)return;ka=event.getData();var oa=o.bySigil(na,'m-photo-composer');if(!oa)return;var pa=k.find(oa,'*','m-composer');la(pa);ma(pa);});function la(na){if(!ba||!na)return;if(ca)q(ca);ca=u(function(){ca=null;var oa=k.find(na,'*','composer-submit'),pa=ka[h.SENDING]===0&&(!/^\s*$/.test(k.find(na,'*','textarea').value)||ka[h.UPLOADED]>0);if(!pa){oa.setAttribute('disabled',true);}else oa.removeAttribute('disabled');j.conditionClass(oa,"_56bt",!pa);j.conditionClass(oa,"_56bv",pa);});}function ma(na){if(!na||!l.get(na).auto_collapse||!l.get(ga(na)).expand_composer)return;var oa=k.find(na,'*','textarea'),pa=t()===oa||!/^\s*$/.test(oa.value)||ka[h.UPLOADED]>0;j.conditionClass(na,'composerClosed',!pa);}y.enableDispatch(window,'reset');x.listen('blur',['m-composer','textarea'],function(event){ma(event.getNode('m-composer'));});x.listen('reset',['m-composer'],(function(event){var na=event.getNode('m-composer');la(na);ma(na);this._attemptPublishStopEvent();}).bind(this));if(fa.has_live_comment)x.listen('submit','m-composer',function(event){var na=event.getTarget(),oa=k.scry(na,'input','mcomposer-client-id');if(oa.length){oa[0].setAttribute('value',i.getNewClientID());}else{oa=k.create('input',{name:'client_id',sigil:'mcomposer-client-id',type:'hidden',value:i.getNewClientID()});na.appendChild(oa);}});x.listen('touchend',['m-composer','composer-submit'],function(event){var na=event.getNode('composer-submit'),oa=l.get(na);if(!oa.onclickIsSet){var pa=event.getNode('m-composer'),qa=k.find(pa,'*','textarea');na.onclick=function(){qa.blur();};oa.onclickIsSet=true;}});x.listen('click','composer-submit',(function(event){x.invoke('marauder-feedback-posted',null,{});this._attemptPublishStopEvent();}).bind(this));x.listen('click','m-add-comment',function(event){var na=event.getNode('m-ufi'),oa=k.find(na,'*','m-composer'),pa=k.find(oa,'*','textarea');pa.focus();});x.listen('m:page:unload',null,(function(){this._typingEventController&&this._typingEventController.destroy();this._typingEventController=null;}).bind(this));if(da()){x.listen('submit','m-composer',(function(event){this._attemptPublishStopEvent();}).bind(this));x.listen('m:feed-ufi:hide',null,(function(event){this._attemptPublishStopEvent();}).bind(this));}};g.main=ea;},null);
__d('MModalDialogLink',['DataStore','Stratcom','MModalDialog','MPageController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='dialog-link';i.listen('click',l,function(m){m.prevent();var n=m.getNode(l);switch(n.getAttribute('rel')){case 'dialog':j.open(h.get(m.getNode(l)).dialogURI,function(o){if(o)if(o.redirectURI){k.forceLoad(o.redirectURI);}else if(o.refresh)k.reload();},n.getAttribute('data-loading-title'));break;case 'dialog-close':j.close({redirectURI:h.get(m.getNode(l)).dialogURI,goBack:true});break;case 'dialog-close-and-navigate':j.close({redirectURI:h.get(m.getNode(l)).dialogURI,goBack:false});break;case 'dialog-close-and-refresh':j.close({refresh:true,goBack:true});break;}});},null);
__d('MShareFlyout',['setTimeoutAcrossTransitions','cx','CSS','DOM','DataStore','fbt','MCompositionConfigFields','MCompositionShareFields','MComposition','MComposerEntry','MComposerTypes','MCompositionStoreID','MModalDialog','MViewport','MRequest','Banzai','promiseFinally','Stratcom','Vector','URI','SaveStateHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca='mufi-inline',da='save-action-title',ea='shareSaveButton',fa='share-one-click-button',ga="share-with-message-button",ha="share-in-a-private-message-button",ia='oneClickShareResult',ja=6000,ka='/a/sharer.php',la='/sharer-dialog.php',ma='saved_for_later:caret_action',na='imp',oa,pa,qa,ra,sa,ta,ua={},va={},wa=[],xa,ya;function za(mb,nb,ob){if(oa)return;xa=nb;oa=mb;pa=mb.getRoot();ya=ob;t.init();gb();}function ab(mb){if(t.isOpen()){t.load(mb);}else t.open(mb);}function bb(){var mb=new v(ka);mb.setMethod('POST');mb.addData({m:'oneclick',privacyx:xa,sid:ra,shareID:ra,fs:sa,internal_preview_image_id:qa,direct:true,_ft_:ta});mb.send();oa.hide();}function cb(event){var mb=l.get(oa.getCausalElement()).saveInfo,nb=ba.isSaveAction(mb.primarySaveID),ob,pb=ba.isInTransition(mb.primarySaveID);if(pb)return;if(nb){ob=new v(mb.saveURI);ob.setMethod('POST');ba.saving(mb.allSaveIDs);}else{ob=new v(mb.unsaveURI);ob.setMethod('POST');ba.unsaving(mb.allSaveIDs);}ob.listen('error',function(){var qb=!ba.isSaveAction(mb.primarySaveID);if(qb){ba.unsaved(mb.allSaveIDs);}else ba.saved(mb.allSaveIDs);});ob.send();oa.hide();}function db(){if(ya){var mb={};mb[o.ID]=ra;mb[o.FEEDBACK_SOURCE]=sa;var nb={};nb[n.COMPOSER_TYPE]=r.SHARE;nb[n.COMPOSER_TITLE]=m._("Share");nb[n.CONTEXTUAL_MESSAGE]=m._("Share on your Timeline");nb[n.PLACEHOLDER]=m._("Write something...");nb[n.DISABLE_PHOTOS]=true;var ob=u.getScrollTop();x(q.invoke(new p().setStoreData(s.CONFIG,nb).setStoreData(s.SHARE,mb)),function(){return u.scrollTo(0,ob);});}else{ab(new aa(la).setQueryData({fs:sa,sid:ra,_ft_:ta,internal_preview_image_id:qa}).toString());oa.hide();}}function eb(){ab(new aa(la).setQueryData({fs:sa,m:'message',sid:ra,u:window.location.href,internal_preview_image_id:qa}).toString());oa.hide();}function fb(mb,nb){w.post(ma,{action:na,surface:mb.surface,story_id:mb.story_id,is_save:nb});}function gb(){wa=[oa.addListener('beforeshow',function(){var mb=oa.getCausalElement(),nb=l.get(mb),ob=nb.saveInfo,pb=k.scry(pa,'*',ea)[0];if(ob){var qb=ob.primarySaveID,rb=ba.isSaveAction(qb),sb=ba.isInTransition(qb);k.show(pb);var tb=k.find(pb,'div',da);tb.textContent=rb?ob.saveTitle:ob.unsaveTitle;j.conditionClass(pb,"_kh1",sb);fb(ob.logData,rb);}else if(pb)k.hide(pb);ra=nb&&nb.share_id;sa=nb&&nb.feedback_source;qa=nb&&nb.internal_preview_image_id;var ub=new aa(mb.href);ta=ub.getQueryData()._ft_;if(ra)ua[ra]=ib(mb);}),y.listen('click',fa,bb),y.listen('click',ga,db),y.listen('click',ha,eb),y.listen('click',ea,cb),y.listen('m:page:unload',null,hb)];}function hb(){oa=null;for(var mb in va)clearTimeout(va[mb]);va={};while(wa.length)wa.pop().remove();}function ib(mb){while(mb&&!y.hasSigil(mb,ca))mb=mb.parentNode;return mb;}function jb(mb,nb){var ob=k.scry(mb,'div',ia);ob[0]&&k.remove(ob[0]);var pb=k.create('div',{className:"_4_m7"},nb);y.addSigil(pb,ia);k.appendContent(mb,pb);return pb;}function kb(mb,nb){var ob=ua[nb];delete ua[nb];if(!ob)return;var pb=jb(ob,mb),qb=z.getPos(ob),rb=z.getDim(ob).y,sb=u.getScrollTop(),tb=u.getScrollHeight();if(qb.y<sb||qb.y+rb>sb+tb)u.scrollTo(qb.x,qb.y-250);va[nb]=h(function(){delete va[nb];k.remove(pb);},ja);}function lb(mb,nb){var ob=ua[nb];delete ua[nb];if(!ob)return;if(z.getPos(ob).y>=u.getScrollTop()){var pb=jb(ob,mb);va[nb]=h(function(){delete va[nb];if(z.getPos(ob).y>=u.getScrollTop())k.remove(pb);},ja);}}g.init=za;g.onSuccess=lb;g.onFailure=kb;},null);
__d("XLtgPostTranslationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true},text_size:{type:"Enum",defaultValue:"medium",enumType:1}});},null,{});
__d("XLtgCommentTranslationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/intl\/comment_translation\/",{ftid:{type:"String",required:true},commentid:{type:"String",required:true}});},null,{});
__d('MLtgTranslation',['cx','CSS','DOM','fbt','Stratcom','Locale','MRequest','XLtgPostTranslationController','XLtgCommentTranslationController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q='m-see-translate-link',r='m-see-translate-link-comment',s=false;function t(x){var y=x.getNode(q),z=y.getAttribute('data-targetid'),aa=o.getURIBuilder().setString('ftid',z).getURI();v(aa,y);x.prevent();}function u(x){var y=x.getNode(r),z=y.getAttribute('data-targetid'),aa=y.getAttribute('data-commentid'),ba=p.getURIBuilder().setString('ftid',z).setString('commentid',aa).getURI();v(ba,y);x.prevent();}function v(x,y){var z=new n(x);z.listen('done',function(aa){var ba;if(aa.payload&&aa.payload.text){ba=aa.payload.text;}else ba=k._("No translation available");var ca=j.create('div',{className:"_3nc6"},ba);i.addClass(ca,m.isRTL()?"_3nc7":"_3nc8");j.replace(y,ca);});z.send();}var w={listenOnSeeTranslate:function(){if(s)return;l.listen('click',q,t);l.listen('click',r,u);s=true;}};f.exports=w;},null);
__d('MContextualThing',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i={register:function(j,k){k.id=k.id||'ctxtlayer_'+h++;j.setAttribute('data-ownerid',k.id);},containsIncludingLayers:function(j,k){while(k){if(j.contains(k))return true;k=i.getContext(k);}return false;},getContext:function(j){var k;while(j){if(j.getAttribute&&(k=j.getAttribute('data-ownerid')))return document.getElementById(k);j=j.parentNode;}return null;}};f.exports=i;},null);
__d('MLayer',['setTimeoutAcrossTransitions','BehaviorsMixin','CSS','DataStore','DOM','MContextualThing','mixin','mixInEventEmitter','MTouchHelper','Stratcom','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u=[],v={};s=babelHelpers.inherits(w,n(i));t=s&&s.prototype;function w(aa){'use strict';t.constructor.call(this);this.config=aa||{};this.$MLayer1=null;this.$MLayer2=false;this.$MLayer3=false;this.$MLayer4=null;}w.prototype.init=function(aa){'use strict';if(this.config.layerid){if(v[this.config.layerid])return;v[this.config.layerid]=this;}this.configure(this.config,aa);var ba=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(ba));var ca=r("flyout-nocontext-root");if(!ca)ca=l.create('div',{id:'flyout-nocontext-root'});l.appendContent(document.body,ca);l.appendContent(ca,this.getRoot());l.hide(this.getRoot());};w.prototype.configure=function(aa,ba){'use strict';this.$MLayer1=this.buildWrapper(aa,ba);q.addSigil(this.$MLayer1,'m-layer-root');var ca=aa.attributes;if(ca){if(ca.sigil){var da=ca.sigil.split(' ');da.forEach(function(fa){q.addSigil(this.$MLayer1,fa);},this);delete ca.sigil;}for(var ea in ca)this.$MLayer1.setAttribute(ea,ca[ea]);}if(aa.classNames)aa.classNames.forEach(function(fa){j.conditionClass(this.$MLayer1,fa,true);},this);if(aa.causalElement)this.$MLayer4=aa.causalElement;k.set(this.$MLayer1,{layer:this});};w.prototype.getDefaultBehaviors=function(){'use strict';return [];};w.prototype.getCausalElement=function(){'use strict';return this.$MLayer4;};w.prototype.setCausalElement=function(aa){'use strict';this.$MLayer4=aa;return this;};w.prototype.getInsertParent=function(){'use strict';return this.insertParent||document.body;};w.prototype.getRoot=function(){'use strict';return this.$MLayer1;};w.prototype.getContentRoot=function(){'use strict';return this.$MLayer1;};w.prototype.buildWrapper=function(aa,ba){'use strict';return ba;};w.prototype.setInsertParent=function(aa){'use strict';if(aa){if(this.$MLayer2&&aa!==this.getInsertParent()){l.appendContent(aa,this.getRoot());this.updatePosition();}this.insertParent=aa;}return this;};w.prototype.show=function(){'use strict';if(this.$MLayer2)return this;var aa=this.getRoot(),ba=this.getInsertParent();if(aa.parentNode!==ba)l.appendContent(ba,aa);this.emit('beforeshow');aa.style.visibility='hidden';aa.style.overflow='hidden';l.show(aa);if(this.updatePosition()!==false){this.$MLayer2=true;this.emit('show');q.invoke('Layer:show',null,this);h((function(){if(this.$MLayer2)u.push(this);}).bind(this));}else l.hide(aa);aa.style.visibility='';aa.style.overflow='';this.emit('aftershow');return this;};w.prototype.hide=function(){'use strict';if(this.$MLayer3||!this.$MLayer2||this.emit('beforehide')===false)return this;this.$MLayer3=true;if(this.emit('starthide')!==false)this.finishHide();return this;};w.prototype.conditionShow=function(aa){'use strict';return aa?this.show():this.hide();};w.prototype.finishHide=function(){'use strict';if(this.$MLayer2){u.splice(u.indexOf(this),1);this.$MLayer3=false;this.$MLayer2=false;l.hide(this.getRoot());this.emit('hide');q.invoke('m:layer:hide',null,this);}return this;};w.prototype.isShown=function(){'use strict';return this.$MLayer2;};w.prototype.updatePosition=function(){'use strict';return true;};w.prototype.updateIfShown=function(){'use strict';this.isShown()&&this.updatePosition();};w.prototype.isDestroyed=function(){'use strict';return this.destroyed;};w.prototype.destroy=function(){'use strict';if(this.destroyed)return;this.destroyed=true;this.finishHide();var aa=this.getRoot();l.remove(aa);this.destroyBehaviors();this.emit('destroy');q.invoke('Layer:destroy',null,this);delete k.get(aa).layer;this.$MLayer1=this.$MLayer4=null;if(this.config.layerid)delete v[this.config.layerid];this.config=null;};w.prototype.shouldBlurOnTouchEnd=function(){'use strict';return true;};o(w,{destroy:true,blur:true,beforeshow:true,show:true,aftershow:true,beforehide:true,starthide:true,hide:true});Object.assign(w,{show:function(aa){aa.show();}});var x;function y(event){x=p.getTouchClientCoord(event);}function z(event){var aa=u.length;if(!aa)return;var ba=event.getTarget(),ca=event.getType();if(!document.documentElement.contains(ba))return;if(ca==='touchend'&&x){var da=p.getTouchClientCoord(event),ea=Math.sqrt(Math.pow(x.x-da.x,2)+Math.pow(x.y-da.y,2));x=null;if(ea>5)return;}while(aa--){var fa=u[aa];if(!fa.isShown())continue;var ga=fa.getContentRoot();if(m.containsIncludingLayers(ga,ba))return;var ha=fa.getCausalElement();if(ca==='touchend'&&(ha.contains(ba)||ha===ba||!fa.shouldBlurOnTouchEnd()))continue;if(fa.emit('blur')===false||fa.isShown())return;}}q.listen('touchstart',null,y);q.listen('click',null,z);q.listen('touchend',null,z);f.exports=w;},null);
__d('MLayerDestroyOnTransition',['Stratcom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$MLayerDestroyOnTransition1=null;this.$MLayerDestroyOnTransition2=j;}i.prototype.enable=function(){'use strict';this.$MLayerDestroyOnTransition1=h.listen('m:page:unload',null,this.$MLayerDestroyOnTransition2.destroy.bind(this.$MLayerDestroyOnTransition2));};i.prototype.disable=function(){'use strict';this.$MLayerDestroyOnTransition1.remove();this.$MLayerDestroyOnTransition1=null;};f.exports=i;},null);
__d('MLayerHideOnBlur',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$MLayerHideOnBlur1=null;this.$MLayerHideOnBlur2=null;this.$MLayerHideOnBlur3=i;}h.prototype.enable=function(){'use strict';this.$MLayerHideOnBlur1=[this.$MLayerHideOnBlur3.addListener('show',this.$MLayerHideOnBlur4.bind(this)),this.$MLayerHideOnBlur3.addListener('hide',this.$MLayerHideOnBlur5.bind(this))];if(this.$MLayerHideOnBlur3.isShown())this.$MLayerHideOnBlur4();};h.prototype.disable=function(){'use strict';this.$MLayerHideOnBlur5();while(this.$MLayerHideOnBlur1.length)this.$MLayerHideOnBlur1.pop().remove();this.$MLayerHideOnBlur1=null;};h.prototype.$MLayerHideOnBlur5=function(){'use strict';this.$MLayerHideOnBlur2&&this.$MLayerHideOnBlur2.remove();this.$MLayerHideOnBlur2=null;};h.prototype.$MLayerHideOnBlur4=function(){'use strict';this.$MLayerHideOnBlur2=this.$MLayerHideOnBlur3.addListener('blur',(function(){this.$MLayerHideOnBlur3.hide();}).bind(this));};f.exports=h;},null);
__d('MLiveData',['MDeepCopy','Stratcom','eventsMixinDeprecated'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l={},m,n={},o,p;function q(s){'use strict';this.$MLiveDataObject1=s;}q.prototype.getData=function(){'use strict';return h(k[this.$MLiveDataObject1]||{});};j(q,['change']);var r={_set:function(s,t,u){var v=k[s],w=v&&v.timestamp&&t.timestamp&&v.timestamp>t.timestamp;if(p||w)return;if(!v||u){k[s]=t;}else Object.assign(k[s]||{},t);if(!l[s])l[s]=new q(s);l[s].invoke('change');},update:function(s,t){this._set(s,t,false);},set:function(s,t){this._set(s,t,true);},get:function(s){if(!m)m=i.listen('m:page:render:cache:start',null,function(){p=true;i.listen('m:page:iui:response:complete',null,function(){p=false;i.removeCurrentListener();Object.keys(n).forEach(function(t){var u=k[t];if(u&&Object.keys(u).length)l[t].invoke('change');});});});if(!n[s])n[s]=true;if(!o)o=i.listen('m:page:unload',null,function(){n={};});if(!l[s])l[s]=new q(s);return l[s];}};f.exports=r;},null);
__d('MInputFocus',['setTimeoutAcrossTransitions','DOM','MViewport'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={scrollTo:function(l,m){h(function(){i.hide(l);j.scrollTo(0,m);i.show(l);l.setSelectionRange(l.selectionEnd,l.selectionEnd);},0);}};f.exports=k;},null);
__d('MScrollAreaHelper',['DataStore'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){k=k||10;var l;while(k>0&&j&&j.nodeType===1){l=h.get(j);if(l&&l.scrollArea)return l.scrollArea;j=j.parentNode;k--;}return null;}g.findScrollArea=i;},null);
__d('MActionBubbleHelper',['CSS','Stratcom','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='enabled_action';f.exports.toggleActionBubbleItem=function(l,m){h.conditionClass(l,"_58a0",m);if(m){i.addSigil(l,k);}else i.removeSigil(l,k);};},null);
__d('MCommentActionsFlyout',['DOM','DataStore','MModalDialog','MPagesBanUserUtils','MParent','MRequest','Stratcom','URI','MActionBubbleHelper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q='ban_user_from_page_comment_sigil',r='editCommentSigil',s='deleteCommentSigil',t='hideCommentSigil',u='reportCommentSigil',v='commentFlyoutSigil',w=false;function x(ha,ia,ja){var ka=h.find(ha,'*',ia);p.toggleActionBubbleItem(ka,ja);}function y(ha){var ia=l.bySigil(ha,'comment-metadata');return ia;}function z(ha,ia){var ja=i.get(ia);ha.addQueryData('_ft_',ja.linkdata);}function aa(ha,ia){z(ia,ha);var ja=new m(ia);ja.send();}function ba(ha,ia){j.open(ia);}function ca(){var ha=y(this.getCausalElement()),ia=this.getRoot(),ja=i.get(ha);x(ia,r,!!ja.editCommentURI);x(ia,s,!!ja.deleteCommentURI);x(ia,t,!!ja.hideCommentURI);x(ia,u,!!ja.reportCommentURI);x(ia,q,!!ja.banUserFromPageURI&&!w);}function da(ha){var ia=i.get(ha.getNode(v)),ja=y(ia.layer.getCausalElement()),ka=i.get(ja);if(ha.getNode(r)){aa(ja,new o(ka.editCommentURI));}else if(ha.getNode(s)){aa(ja,new o(ka.deleteCommentURI));}else if(ha.getNode(t)){aa(ja,new o(ka.hideCommentURI));}else if(ha.getNode(u)){if(ka.reportIsModalDialog){ba(ja,new o(ka.reportCommentURI));}else aa(ja,new o(ka.reportCommentURI));}else if(ha.getNode(q))if(ka.banUserFromPageURI)k.sendBanFromPageRequest(ka.banUserFromPageURI,function(){w=true;});ia.layer.hide();ha.kill();}var ea,fa,ga=function(ha){if(ea)return;ea=ha;var ia=ha.getRoot();n.addSigil(ia,v);fa=[n.listen('m:page:unload',null,function(){while(fa.length>0)fa.pop().remove();ea=null;}),ha.addListener('beforeshow',ca,ha),h.listen(ia,'click',null,da)];};f.exports={registerFlyout:ga};},null);
__d('MUFI',['ClientIDs','MLiveData','Stratcom'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='m_live_ufi',l,m=function(event){var p=event.getData();if(p)n(p);};function n(p){var q=p.feedback_data,r=q&&q.ft_ent_identifier;if(r){var s=p.action_data;if(s){if(s.client_id&&h.isExistingClientID(s.client_id))return;delete s.client_id;if(s.action_type==='m-action-add-comment'){if(Object.keys(i.get(s.comment_id).getData()).length!==0)return;var t=i.get(r).getData().comments||[];t.push(s.comment_id);q.comments=t;i.set(s.comment_id,s);}}i.update(r,q);}}function o(){if(!l)l=j.listen(k,null,m);}f.exports={addAction:n,init:o};},null);
__d('MUFIComposerFocus',['DataStore','DOM','MParent','Parent','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='mufi-composer-focus',n;function o(t){var u=[];while(t.parentNode){u.unshift(t);t=t.parentNode;}return u;}function p(t){var u=i.scry(document.body,'*','mufi-composer');if(u.length===1)return u[0];var v=o(t),w=u.reduce(function(x,y,z){var aa=o(y).reduce(function(ba,ca,da){return ca===v[da]?da:Math.min(da,ba);},0);return aa>=x[0]?[aa,y]:x;},[0,null]);return w[1];}function q(event){var t=p(event.getNode(m));if(t){event.prevent();t.focus();}}function r(event){var t=event.getNode(m),u=p(t);if(u){var v=j.bySigil(t,'touchable');if(v)h.get(v).nativeClick=true;var w=k.byTag(t,'a');if(w)w.href='#'+i.uniqID(u);}}function s(){if(!n){l.listen('touchstart',m,r);l.listen('click',m,q);n=true;}}f.exports={init:s};},null);
__d('MUFIRequest',['ClientIDs','MLiveData','MRequest','MURI','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.getHashPrefixRegex(),n={};function o(q){var r=new k(q),s=r.getFragment();if(m.test(s))r=new k(s.replace(m,'/'));return r.setProtocol(null).setDomain(null).setFragment(null);}function p(q,r,s,t){r.request_id=null;i.update(q,r);if(n[q])n[q].abort();s.addQueryData('client_id',h.getNewClientID());var u=new j(s.toString());u.listen('finally',(function(){n[q]=null;}).bind(this));u.listen('postprocess',function(){l.invoke('m:ajax:complete');});u.setAutoRetry(true);if(t)u.setData(t);n[q]=u;u.send();}f.exports={getURI:o,send:p};},null);
__d('MUFILikeButton',['ActorURI','CSS','DataStore','DOM','JavelinEvent','MLiveData','MParent','MUFIConfig','MUFIRequest','Stratcom','Style','SubscriptionsHandler','createIxElement','cx','emptyFunction','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y={is_like:1},z={is_like:0};function aa(ba,ca,da,ea){'use strict';this.$MUFILikeButton1=ba;this.$MUFILikeButton2=m.get(ca);this.$MUFILikeButton3=ca;this.$MUFILikeButton4=da||{log:v};this.$MUFILikeButton5=ea;this.$MUFILikeButton6=new s();this.$MUFILikeButton6.addSubscriptions(k.listen(this.$MUFILikeButton1,'click',null,this.onClick.bind(this)),k.listen(this.$MUFILikeButton1,'touchstart',null,this.onTouchStart.bind(this)),this.$MUFILikeButton2.listen('change',this.onChange.bind(this)),q.listen('m:page:unload',null,this.onUnload.bind(this)));}aa.prototype.onChange=function(){'use strict';var ba=this.$MUFILikeButton2.getData();if(ba.request_id===this.$MUFILikeButton5)return;var ca=ba.has_viewer_liked;i.conditionClass(this.$MUFILikeButton1,"_2q8z",ca);q.removeSigil(this.$MUFILikeButton1,ca?'like':'unlike');q.addSigil(this.$MUFILikeButton1,ca?'unlike':'like');};aa.prototype.getFeedbackData=function(){'use strict';var ba=this.$MUFILikeButton2.getData(),ca=ba.has_viewer_liked,da=ca?ba.like_count-1:ba.like_count+1,ea=ba.reduced_like_count;if(!isNaN(ea))ea=da.toString();return {has_viewer_liked:!ca,like_count:da,like_counts:[ba.like_counts[1]||null,ba.like_counts[0]],like_friend_sentences:[ba.like_friend_sentences[1]||null,ba.like_friend_sentences[0]],like_sentences:[ba.like_sentences[1]||null,ba.like_sentences[0]],reduced_like_count:ea};};aa.prototype.getRequestData=function(){'use strict';return null;};aa.prototype.onTouchStart=function(event){'use strict';var ba=event.getNode('tag:a');if(o.disableLikeContextMenu&&ba.hasAttribute('href')){ba.setAttribute('data-uri',ba.getAttribute('href'));ba.removeAttribute('href');}};aa.prototype.onClick=function(event){'use strict';event.prevent();var ba=p.getURI(event.getNode('tag:a').getAttribute('href')||event.getNode('tag:a').getAttribute('data-uri'));if(this.$MUFILikeButton2.getData().has_viewer_liked){ba.addQueryData('ul',true);}else ba.removeQueryData('ul');var ca=n.bySigil(this.$MUFILikeButton1,'feed-ufi-metadata');if(ca){var da=j.get(ca).actor_id;if(da)ba=h.create(ba,da);}p.send(this.$MUFILikeButton3,this.getFeedbackData(),ba,this.getRequestData());this.$MUFILikeButton4.log('like',undefined,this.$MUFILikeButton2.getData().has_viewer_liked?z:y);};aa.prototype.onUnload=function(){'use strict';this.$MUFILikeButton6.release();this.$MUFILikeButton6=null;};f.exports=aa;},null);
__d('MUFISocialSentence',['cx','CSS','DOM','MLiveData','Stratcom','SubscriptionsHandler','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();function o(p,q,r,s,t,u){'use strict';if(!u&&!r)return;this.$MUFISocialSentence1=p;this.$MUFISocialSentence2=k.get(q);this.$MUFISocialSentence3=s;this.$MUFISocialSentence4=t;this.$MUFISocialSentence5=u;this.$MUFISocialSentence6=r;this.$MUFISocialSentence7=new m();this.$MUFISocialSentence7.addSubscriptions(this.$MUFISocialSentence2.listen('change',this.onChange.bind(this)),l.listen('m:page:unload',null,this.onUnload.bind(this)));}o.prototype.onChange=function(){'use strict';var p=this.$MUFISocialSentence2.getData();if(p.request_id===this.$MUFISocialSentence4)return;i.removeClass(this.$MUFISocialSentence1,'like_opt');var q=this.$MUFISocialSentence5&&p.like_count?p[this.$MUFISocialSentence3][0]:null,r=this.$MUFISocialSentence6&&p.comment_count?p.comment_count:null;if(q){var s=this.$MUFISocialSentence3!=='like_counts'&&!p.like_fallback&&r?'div':'span';q=j.create(s,null,q);}if(r){r=r>1?n._({"*":"{count} Comments"},[n.param('count',r,[0])]):n._({"*":"{count} Comment"},[n.param('count',r,[0])]);r=j.create('span',{},r);}if(p.like_count||p.comment_count)i.removeClass(this.$MUFISocialSentence1,"_49a9");j.setContent(this.$MUFISocialSentence1,[q,r]);};o.prototype.onUnload=function(){'use strict';this.$MUFISocialSentence7.release();this.$MUFISocialSentence7=null;};f.exports=o;},null);
__d('MFlyout',['CSS','DataStore','DOM','Locale','MContextualThing','MLayer','MParent','MViewport','Scroll','Stratcom','Vector','MJSEnvironment','cx','emptyFunction','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x,y=52,z=26,aa=10,ba=22,ca=3,da=400,ea=320,fa=['resize','m:schedulable:loaded','m:viewport:orientation-change','m:orientation-resize:complete','m:hideout:reflow','m:landscape-cover-crop:complete'],ga='flyout-causal',ha=j.create('div',{className:"_5so _2wyb"});function ia(pa,qa,ra){return Math.min(ra,Math.max(qa,pa));}function ja(){return document.body;}var ka=[];w=babelHelpers.inherits(la,m);x=w&&w.prototype;function la(pa,qa){'use strict';x.constructor.call(this,pa);this._contentRoot=null;this._contentWrapper=null;this._nubNode=null;this._nubAlignment=null;this._content=null;this._contextNode=null;this._parentLayer=null;this._parentSubscription=null;this._orientation=null;this._orientationClass=null;this._width=null;this._modal=null;this._contentPositioner=null;this._heightConstraint=null;this.init(qa);}la.prototype.configure=function(pa,qa){'use strict';x.configure.call(this,pa,qa);if(pa.context){this.setContext(pa.context);this.setParentSubscription();q.addSigil(this.getCausalElement(),ga);var ra=i.get(this.getCausalElement());ra.flyout=this;}this.setMargin(pa.margin);this.setPosition(pa.position);this.setNubAlign(pa.nubalign);this.setOffsetY(pa.offsetY);this._content=qa;this.setWidth(pa.width);this.setModal(!!pa.modal);};la.prototype.setWidth=function(pa){'use strict';this._width=pa;};la.prototype.setModal=function(pa){'use strict';this._modal=pa;};la.prototype.getModal=function(){'use strict';return this._modal;};la.prototype._getLayerParentWidth=function(){'use strict';return r.getDim(this.getRoot().offsetParent).x;};la.prototype.getMaxWidth=function(){'use strict';return Math.min(this._getLayerParentWidth(),s.IS_TABLET?ea:da);};la.prototype._maxWidthIsApplicable=function(){'use strict';return this.getMaxWidth()!==this._getLayerParentWidth();};la.prototype._isCustomWidth=function(){'use strict';return this._width==='auto'||this._maxWidthIsApplicable();};la.prototype.applyWidth=function(){'use strict';var pa=this._contentRoot.style;pa.width='';pa.maxWidth='';if(this._maxWidthIsApplicable()){var qa=this.getMaxWidth()+'px';if(this._width==='auto'){pa.maxWidth=qa;}else pa.width=qa;}h.conditionClass(this._contentRoot,"_556f",this._isCustomWidth());};la.prototype.buildWrapper=function(pa,qa){'use strict';this._nubNode=j.create('div',{className:"_5bn_"});this._backgroundNode=j.create('div',{className:"_5c0e"},this._nubNode);var ra=j.create('div',{className:"_5c0f"},qa);this._contentRoot=j.create('div',{className:"_5bo0"},[this._backgroundNode,ra]);if(k.isRTL())this._contentRoot.style.direction='rtl';this._contentWrapper=j.create('div',{className:"_544k"},this._contentRoot);this._contentPositioner=j.create('div',{className:"_544l"},this._contentWrapper);return this._contentPositioner;};la.prototype.setMargin=function(pa){'use strict';h.conditionClass(this._contentRoot,"_54wl",pa==='large');h.conditionClass(this._contentRoot,"_55kj",pa==='medium');};la.prototype.getInsertParent=function(){'use strict';var pa=this.insertParent;if(!pa){var qa=this.getContext();if(qa)pa=n.bySigil(qa,'context-layer-root')||ja();}return pa||x.getInsertParent.call(this);};la.prototype.setContent=function(pa){'use strict';this._content=pa;j.setContent(this._contentRoot,this._content);this.updateIfShown();return this;};la.prototype.setContext=function(pa){'use strict';this._contextNode=pa;};la.prototype.getCausalElement=function(){'use strict';return x.getCausalElement.call(this)||this.getContext();};la.prototype.setParentSubscription=function(){'use strict';var pa=this.getContext(),qa=null,ra=ja().parentNode;while(pa!==ra){qa=i.get(pa).layer;if(qa)break;pa=pa.parentNode;}if(qa===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentSubscription.remove();this._parentSubscription=null;}if(qa)this._parentSubscription=qa.subscribe('hide',this.hide.bind(this));this._parentLayer=qa;};la.prototype.setPosition=function(pa){'use strict';if(this.getOrientation().setDefaultPosition(pa)){this.getOrientation().setPosition(pa);this.updateIfShown();}return this;};la.prototype.setNubAlign=function(pa){'use strict';na(pa);this._nubAlignment=pa||'center';};la.prototype.setOffsetY=function(pa){'use strict';pa=parseInt(pa,10);if(this.getOrientation().setDefaultOffsetY(pa))this.updateIfShown();return this;};la.prototype.getOrientation=function(){'use strict';if(!this._orientation)this._orientation=new oa();return this._orientation;};la.prototype.getContentRoot=function(){'use strict';return this._contentRoot;};la.prototype.getContent=function(){'use strict';return this._content;};la.prototype.getContext=function(){'use strict';return this._contextNode;};la.prototype.getContextBounds=function(){'use strict';return this.getContext().getBoundingClientRect();};la.prototype.causalClickShow=function(){'use strict';this.getContent()&&this.show();};la.prototype.show=function(){'use strict';if(this.isShown())return this;x.show.call(this);if(this.getModal())j.insertAfter(this._contentPositioner,ha);if(this.isShown()){l.register(this.getRoot(),this.getContext());ka.push(this);if(!this.resizeListeners){var pa=this.updatePosition.bind(this);this.resizeListeners=fa.map(function(va){return q.listen(va,null,pa);});}var qa=document.getElementById('viewport'),ra=this.getContentRoot();if(qa&&ra){ra=ra.parentNode;var sa=0,ta=ra;while(ta&&ta!==qa){sa+=ta.offsetTop;ta=ta.offsetParent;}var ua=sa+ra.clientHeight;this._heightConstraint=o.addMinHeightConstraint(ua);}}return this;};la.prototype.finishHide=function(){'use strict';ka.splice(ka.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;q.invoke('m:flyout:close',null,{flyout:this});if(this.getModal())j.remove(ha);if(this._heightConstraint){this._heightConstraint.release();this._heightConstraint=null;}return x.finishHide.call(this);};la.prototype.updatePosition=function(){'use strict';var pa=this.getContext();if(!pa)return false;if(!pa.offsetParent)return false;this.applyWidth();this.emit('adjustDimensions');var qa=this.getRoot(),ra=this.getOrientation();this.emit('adjust',ra.reset());this.updateWrapperClass(ra);var sa=qa.offsetParent,ta=sa.getBoundingClientRect(),ua=this.getContextBounds(),va=ua.left-ta.left,wa=ua.top-ta.top;if(ra.getPosition()==='below')wa+=ua.height;var xa=this.getContentRoot(),ya=0;if(this._isCustomWidth()){var za=xa.clientWidth,ab=va+Math.round(ua.width/2);ya=ia(Math.round(ab-za/2),0,this._getLayerParentWidth()-za);xa.style.left=ya+'px';}else xa.style.left='';qa.style.top=wa+ra.getOffsetY()+'px';var bb=this._nubAlignment,cb=va;if(ua<z)bb='center';if(bb==='center'){cb+=Math.round(ua.width/2);}else if(this._nubAlignment==='left'){cb+=z/2;}else cb+=ua.width-z/2;var db=xa.getBoundingClientRect(),eb={left:db.left,width:db.width};eb.left-=ta.left;var fb=ca+z/2;cb=ia(cb,eb.left+fb,eb.left+eb.width-fb);var gb=cb-y/2-eb.left;this._nubNode.style.left=gb+'px';this.emit('reposition',ra);return true;};la.prototype.updateNubPosition=function(pa){'use strict';if(this._nubNode)this._nubNode.style.left=pa+'px';};la.prototype._toggleOrientationClass=function(pa,qa){'use strict';h.conditionClass(this._contentWrapper,qa||this._orientationClass,pa);};la.prototype.updateWrapperClass=function(pa){'use strict';var qa=pa.getClassName();if(qa===this._orientationClass)return;if(this._orientationClass)this._toggleOrientationClass(false);this._orientationClass=qa;this._toggleOrientationClass(true);};la.prototype.simulateOrientation=function(pa,qa){'use strict';var ra=pa.getClassName();if(ra===this._orientationClass){return qa();}else{if(this._orientationClass)this._toggleOrientationClass(false);this._toggleOrientationClass(true,ra);var sa=qa();this._toggleOrientationClass(false,ra);if(this._orientationClass)this._toggleOrientationClass(true);return sa;}};la.prototype.destroy=function(){'use strict';x.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._content=null;this._nubNode=null;this._width=null;return this;};la.prototype.shouldBlurOnTouchEnd=function(){'use strict';return this.getModal()==null;};v(la,{adjustDimensions:true,adjust:true,reposition:true});var ma=u.thatReturnsArgument,na=u.thatReturnsArgument;function oa(){'use strict';this._default={_position:'above',_offsetY:0};this.reset();}oa.prototype.setPosition=function(pa){'use strict';this._position=ma(pa);return this;};oa.prototype.getOppositePosition=function(){'use strict';return oa.OPPOSITE[this.getPosition()];};oa.prototype.getPosition=function(){'use strict';return this._position||'above';};oa.prototype.getOffsetY=function(){'use strict';var pa=this._offsetY||0;if(this._position==='above'){pa-=ba;pa*=-1;}else if(this._position==='below')pa-=aa;return pa;};oa.prototype.getClassName=function(){'use strict';var pa=this.getPosition();if(pa==='below'){return "_5bo1";}else if(pa==='above')return "_5bo2";};oa.prototype.reset=function(){'use strict';Object.assign(this,this._default);return this;};oa.prototype.setDefaultPosition=function(pa){'use strict';var qa=this._default._position;this._default._position=ma(pa);return qa!==pa;};oa.prototype.setDefaultOffsetY=function(pa){'use strict';var qa=this._default._offsetY;this._default._offsetY=pa;return qa!==pa;};oa.OPPOSITE={above:'below',below:'above'};q.listen('click',ga,function(pa){i.get(pa.getNode(ga)).flyout.causalClickShow();});q.listen('click',['m-layer-root','mflyout-remove-on-click'],function(pa){var qa=pa.getNode('m-layer-root');i.get(qa).layer.hide();});f.exports=la;},null);
__d('MActionBubbleLayout',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$MActionBubbleLayout1=null;this.$MActionBubbleLayout2=k;}j.prototype.enable=function(){'use strict';this.$MActionBubbleLayout1=this.$MActionBubbleLayout2.addListener('adjustDimensions',this.$MActionBubbleLayout3.bind(this));if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MActionBubbleLayout1.remove();this.$MActionBubbleLayout1=null;if(this.$MActionBubbleLayout2.isShown())this.$MActionBubbleLayout2.updatePosition();};j.prototype.$MActionBubbleLayout3=function(){'use strict';var k=this.$MActionBubbleLayout2;this.$MActionBubbleLayout4(true);var l=this.$MActionBubbleLayout2.getContentRoot();if(l.clientWidth>=k.getMaxWidth())this.$MActionBubbleLayout4(false);};j.prototype.$MActionBubbleLayout4=function(k){'use strict';var l=this.$MActionBubbleLayout2;l.setWidth(k?'auto':'wide');l.applyWidth();h.conditionClass(l.getRoot(),"_55i0",k);};f.exports=j;},null);
__d('MFlyoutAutoFlip',['MViewport','MParent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$MFlyoutAutoFlip1=null;this.$MFlyoutAutoFlip2=k;}j.prototype.enable=function(){'use strict';this.$MFlyoutAutoFlip1=this.$MFlyoutAutoFlip2.addListener('adjust',this.$MFlyoutAutoFlip3.bind(this));if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MFlyoutAutoFlip1.remove();this.$MFlyoutAutoFlip1=null;if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.$MFlyoutAutoFlip3=function(k){'use strict';var l=this.$MFlyoutAutoFlip4(k),m={top:0,bottom:h.getUseableHeight()},n=i.bySigil(this.$MFlyoutAutoFlip2.getRoot(),'scroll-area');if(n){var o=n.getBoundingClientRect();m={top:Math.max(o.top,m.top),bottom:Math.min(o.bottom,m.bottom)};}var p,q,r=this.$MFlyoutAutoFlip2,s=r.getContext(),t=s.getBoundingClientRect();for(p=0;p<l.length;p++){k.setPosition(l[p]);q=r.simulateOrientation(k,function(){return r.getRoot().firstChild.getBoundingClientRect();});var u=t.top+k.getOffsetY();if(k.getPosition()==='above'){u-=q.height;}else if(k.getPosition()==='below')u+=t.height;var v={top:u,bottom:u+q.height};if(v.top>=m.top&&v.bottom<=m.bottom)return;}k.setPosition(l.indexOf('below')>-1?'below':l[0]);};j.prototype.$MFlyoutAutoFlip4=function(k){'use strict';return [k.getPosition(),k.getOppositePosition()];};f.exports=j;},null);
__d('MFlyoutContextSigil',['Stratcom','DataStore','DOM','ex'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={};function m(n){'use strict';this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=n;}m.prototype.enable=function(){'use strict';var n=this.$MFlyoutContextSigil3();l[n];l[n]=this.$MFlyoutContextSigil2;this.$MFlyoutContextSigil1=h.listen('click',this.$MFlyoutContextSigil3(),this.$MFlyoutContextSigil4.bind(this));};m.prototype.disable=function(){'use strict';delete l[this.$MFlyoutContextSigil3()];this.$MFlyoutContextSigil1.remove();this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=null;};m.prototype.$MFlyoutContextSigil3=function(){'use strict';var n=this.$MFlyoutContextSigil2.config;return n.causalSigil||n.contextSigil;};m.prototype.$MFlyoutContextSigil4=function(n){'use strict';var o=n.getNode(this.$MFlyoutContextSigil3()),p,q=this.$MFlyoutContextSigil2.config.contextSigil,r=this.$MFlyoutContextSigil2.config.causalSigil;if(r&&r!==q){var s=o;while(s&&s!==document.body&&!p)if(h.hasSigil(s,q)){p=s;}else{var t=j.scry(s,'*',q);p=t[0];s=s.parentNode;}}else p=o;if(this.$MFlyoutContextSigil2.getContext()!==p&&this.$MFlyoutContextSigil2.isShown()){this.$MFlyoutContextSigil2.hide();if(!this.$MFlyoutContextSigil2)return;}this.$MFlyoutContextSigil2.setCausalElement(o);this.$MFlyoutContextSigil2.setContext(p);i.get(o).flyout=this.$MFlyoutContextSigil2;if(!this.$MFlyoutContextSigil2.isShown())this.$MFlyoutContextSigil2.show();n.prevent();};f.exports=m;},null);